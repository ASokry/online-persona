(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n.p+"static/media/compass.031cc345.png"},39:function(e,t,n){e.exports=n.p+"static/media/userDefined.1572bce3.png"},40:function(e,t,n){e.exports=n.p+"static/media/theCrossing.c29a695a.png"},44:function(e,t,n){e.exports=n(68)},50:function(e,t,n){},51:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(37),r=n.n(i),s=(n(49),n(50),n(16)),l=n(17),c=n(12),d=(n(51),n(38)),u=n.n(d),h=n(39),m=n.n(h),p=n(40),f=n.n(p),_=n(21);function b(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=(t[0],t[1]);return Object(o.useEffect)(function(){_.database().ref("responses").on("value",function(e){var t=[];if(null!=e.val()){for(var o=0,a=Object.entries(e.val());o<a.length;o++){var i=a[o],r=Object(c.a)(i,2),s=(r[0],r[1]);t[t.length]=s}n(t)}})},[]),a.a.createElement("div",{className:"home"},a.a.createElement("div",{className:"home-header"},a.a.createElement("h1",null,"Online ",a.a.createElement("b",{style:{color:"#9900ff"}},"Persona")),a.a.createElement("div",{className:"header-description"},"Participants complete a survey, answering some questions pertaining to their opinions and views of their online personas. Responses will be archived and used to generate real-time data visualizations. It is recommended to take the survey first before viewing the resulting data visualization as some questions are intentionally left open-ended and abstract to prompt a response that best reflects one's interpretation of the question and purest reaction."),a.a.createElement("nav",null,a.a.createElement(s.b,{to:"/"},"HOME")," | ",a.a.createElement(s.b,{to:"/form"},"TAKE THE SURVEY")," | ",a.a.createElement(s.b,{to:"/about"},"ABOUT"))),a.a.createElement("div",{className:"home-visuals"},a.a.createElement("div",{className:"visual"},a.a.createElement("h4",null,a.a.createElement(s.b,{to:"/compass"},"Compass")),a.a.createElement("div",{className:"img-container"},a.a.createElement(s.b,{to:"/compass"},a.a.createElement("img",{src:u.a,className:"visual-img"})))),a.a.createElement("div",{className:"visual"},a.a.createElement("h4",null,a.a.createElement(s.b,{to:"/user-defined"},"User Defined")),a.a.createElement("div",{className:"img-container"},a.a.createElement(s.b,{to:"/user-defined"},a.a.createElement("img",{src:m.a,className:"visual-img"})))),a.a.createElement("div",{className:"visual"},a.a.createElement("h4",null,a.a.createElement(s.b,{to:"/the-crossing"},"The Crossing")),a.a.createElement("div",null,a.a.createElement(s.b,{to:"/the-crossing"},a.a.createElement("img",{src:f.a,className:"visual-img"}))))))}n(66);function g(){return a.a.createElement("div",{className:"about"},a.a.createElement("div",{className:"about-header"},a.a.createElement("h1",null,"Online ",a.a.createElement("b",{style:{color:"#9900ff"}},"Persona")),a.a.createElement("div",{className:"about-description"},a.a.createElement("h3",{className:"about-sub"},"About the Project"),"A project that explores how people associate with their online identities and internet personas to reveal hidden connections within the collective unconscious.Participants complete a survey, answering various questions pertaining to their opinions and views of their online personas. Responses are archived and used to generate real-time data visualizations. It is recommended to take the survey first before viewing the resulting data visualization as some questions are intentionally left open-ended and abstract to prompt a response that best reflects one's interpretation of the question and purest reaction.",a.a.createElement("br",null),"Below are data visualizations generated from the survey database."),a.a.createElement("nav",null,a.a.createElement(s.b,{to:"/"},"HOME")," | ",a.a.createElement(s.b,{to:"/form"},"TAKE THE SURVEY")," | ",a.a.createElement(s.b,{to:"/about"},"ABOUT"))),a.a.createElement("div",{className:"about-visuals"},a.a.createElement("div",{className:"visual"},a.a.createElement("h4",null,a.a.createElement(s.b,{to:"/compass"},"Compass")),a.a.createElement("div",null,"A dot is placed on a grid-like chart for every user who has completed the survey. The dot represents every user and is placed on the chart based on their responses. Along each axis represents a pair of opposing views towards the idea of the online persona. On the X-axis is the idea of the Mask vs the Mirror where the Mask represents the online persona as another person or entity and the Mirror represents the same person or a reflection of self. On the Y-axis is the idea of the spiritual vs the secular, where the spiritual side views the online persona as something more than just a digital representation of self and the secular side views it as having no special significance. The colors of the dots are based on what age group the users are from. Youths being red, young adults are blue, middle age is green, and older age is orange."),a.a.createElement("ul",{className:"visual-tag"},a.a.createElement("li",null,"P5.js"),a.a.createElement("li",null,"React.js"),a.a.createElement("li",null,"Firebase"))),a.a.createElement("div",{className:"visual"},a.a.createElement("h4",null,a.a.createElement(s.b,{to:"/user-defined"},"User Defined")),a.a.createElement("div",null,"Personal definitions, from participants, of what is an online persona scroll down the screen. A way to truly best witness any underlying connections that we all have in viewing and defining online personas."),a.a.createElement("ul",{className:"visual-tag"},a.a.createElement("li",null,"P5.js"),a.a.createElement("li",null,"React.js"),a.a.createElement("li",null,"Firebase"))),a.a.createElement("div",{className:"visual"},a.a.createElement("h4",null,"The Crossing"),a.a.createElement("div",null,"Colored spheres traverse from one side to another in a virtual environment, exiting the real world gate(the yellow circle), passing through the transition gate(the rainbow circle in the middle), and entering the online gate(the blue circle). The beginning color of the sphere is based on what gender the user identifies with in the real world and as the spheres pass the transition gate, they change color based on what genders the user identifies with when online. Male is purple, female is white, nonbinary is yellow, trans is blue, genderqueer is green, agender is orange, other is pink, and users who prefer not to answer is brown with a wireframe texture."),a.a.createElement("ul",{className:"visual-tag"},a.a.createElement("li",null,"Three.js"),a.a.createElement("li",null,"React.js"),a.a.createElement("li",null,"Firebase")))))}var v=n(42),E=n(43),w=n(70),y=n(71),x=n(72),k=n(73),O=n(75),A=n(74),C=(n(67),n(28));function S(e){var t=Object(o.useState)(0),n=Object(c.a)(t,2),i=n[0],r=n[1],l=Object(o.useState)([]),d=Object(c.a)(l,2),u=(d[0],d[1]),h=Object(o.useState)(!1),m=Object(c.a)(h,2),p=m[0],f=m[1],b=Object(o.useState)({x:"hello"}),g=Object(c.a)(b,2),C=(g[0],g[1],Object(o.useState)(["youth","young adult","middle age","older age"])),S=Object(c.a)(C,1)[0],N=Object(o.useState)(""),j=Object(c.a)(N,2),P=j[0],R=j[1],L=Object(o.useState)(["male","female","nonbinary","trans","genderqueer","agender","other",""]),H=Object(c.a)(L,1)[0],M=Object(o.useState)(""),D=Object(c.a)(M,2),F=D[0],B=D[1],z=Object(o.useState)(""),I=Object(c.a)(z,2),q=I[0],V=I[1],Y=Object(o.useState)(0),U=Object(c.a)(Y,2),G=U[0],X=U[1],W=Object(o.useState)({objects:[{id:0,val:""},{id:0,val:""},{id:0,val:""},{id:0,val:""},{id:0,val:""},{id:0,val:""},{id:0,val:""},{id:0,val:""}]}),K=Object(c.a)(W,2),Z=K[0],J=K[1],Q=Object(o.useState)(5),$=Object(c.a)(Q,2),ee=$[0],te=$[1],ne=Object(o.useState)(""),oe=Object(c.a)(ne,2),ae=oe[0],ie=oe[1],re=Object(o.useState)(0),se=Object(c.a)(re,2),le=se[0],ce=se[1],de=Object(o.useState)(""),ue=Object(c.a)(de,2),he=ue[0],me=ue[1],pe=Object(o.useState)(5),fe=Object(c.a)(pe,2),_e=fe[0],be=fe[1],ge=Object(o.useState)(!1),ve=Object(c.a)(ge,2),Ee=ve[0],we=ve[1],ye=Object(o.useState)(""),xe=Object(c.a)(ye,2),ke=xe[0],Oe=xe[1],Ae=Object(o.useState)(""),Ce=Object(c.a)(Ae,2),Se=Ce[0],Te=Ce[1],Ne=Object(o.useState)(!1),je=Object(c.a)(Ne,2),Pe=je[0],Re=je[1];function Le(e,t,n,o){var a=Object(E.a)(t.objects);a[n].val=e?o:null,J(Object(v.a)({},t,{objects:a}))}function He(){_.database().ref("responses").on("value",function(e){var t=[];if(null!=e.val()){for(var n=0,o=Object.entries(e.val());n<o.length;n++){var a=o[n],i=Object(c.a)(a,2),s=(i[0],i[1]);t[t.length]=s}u(t),r(t.length+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}())}})}function Me(e){e.preventDefault(),function(){He();var e={age:P,gender:F,describePersona:q,numberOfPersona:G,genderPersonas:Z,digitalRepresentation:ee,platforms:ae,online:le+he,thinking:_e,speech:Ee,conduct:ke,version:Se,place:Pe};_.database().ref("responses/user"+i).set(e)}(),f(!0)}Object(o.useEffect)(function(){He()},[]);return a.a.createElement("div",{className:"form"},a.a.createElement("div",{className:"form-header"},a.a.createElement("h1",null,"Online ",a.a.createElement("b",{style:{color:"#9900ff"}},"Persona")),a.a.createElement("div",{className:"form-description"},"Take your time filling out this form. After the form has been filled out completely, please click on the Submit button at the bottom of the page."),a.a.createElement("nav",null,a.a.createElement(s.b,{to:"/"},"HOME")," | ",a.a.createElement(s.b,{to:"/form"},"TAKE THE SURVEY")," | ",a.a.createElement(s.b,{to:"/about"},"ABOUT"))),a.a.createElement("div",{className:"form-questions"},!p&&a.a.createElement(w.a,{onSubmit:function(e){Me(e)}},a.a.createElement(y.a,{tag:"fieldset"},a.a.createElement(x.a,{className:"question-title"},"What is your age group?"),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio1",id:"q1-0",value:S[0],onClick:function(e){R(e.target.value)}}),"17 or lower")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio1",id:"q1-1",value:S[1],onClick:function(e){R(e.target.value)}}),"18 - 35")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio1",id:"q1-2",value:S[2],onClick:function(e){R(e.target.value)}}),"36 - 55")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio1",id:"q1-3",value:S[3],onClick:function(e){R(e.target.value)}}),"56 or older"))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,{tag:"fieldset"},a.a.createElement(x.a,{className:"question-title"},"What gender do you identify with?"),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-0",value:H[0],onClick:function(e){B(e.target.value)}}),"Male")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-1",value:H[1],onClick:function(e){B(e.target.value)}}),"Female")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-2",value:H[2],onClick:function(e){B(e.target.value)}}),"Nonbinary")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-3",value:H[3],onClick:function(e){B(e.target.value)}}),"Trans")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-4",value:H[4],onClick:function(e){B(e.target.value)}}),"Genderqueer")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-5",value:H[5],onClick:function(e){B(e.target.value)}}),"Agender")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-6",value:H[6],onClick:function(e){B(e.target.value)}}),"Other")),a.a.createElement(y.a,{check:!0},a.a.createElement(x.a,{check:!0},a.a.createElement(k.a,{type:"radio",name:"radio2",id:"q2-7",value:H[7],onClick:function(e){B(e.target.value)}}),"Prefer Not to Answer"))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"In your own words, please briefly describe what an ",a.a.createElement("b",null,"online persona")," is."),a.a.createElement(k.a,{type:"textarea",name:"text1",id:"q3",onChange:function(e){V(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"How many ",a.a.createElement("b",null,"online personas")," do you think you have?"),a.a.createElement(k.a,{type:"number",name:"number1",id:"q4",onChange:function(e){X(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"What gender(s) does your ",a.a.createElement("b",null,"online persona(s)")," identify with?"),a.a.createElement("div",null,a.a.createElement(O.a,{type:"checkbox",id:"q5-0",label:"Male",value:H[0],onClick:function(e){Le(e.target.checked,Z,0,e.target.value)}}),a.a.createElement(O.a,{type:"checkbox",id:"q5-1",label:"Female",value:H[1],onClick:function(e){Le(e.target.checked,Z,1,e.target.value)}}),a.a.createElement(O.a,{type:"checkbox",id:"q5-2",label:"Nonbinary",value:H[2],onClick:function(e){Le(e.target.checked,Z,2,e.target.value)}}),a.a.createElement(O.a,{type:"checkbox",id:"q5-3",label:"Trans",value:H[3],onClick:function(e){Le(e.target.checked,Z,3,e.target.value)}}),a.a.createElement(O.a,{type:"checkbox",id:"q5-4",label:"Genderqueer",value:H[4],onClick:function(e){Le(e.target.checked,Z,4,e.target.value)}}),a.a.createElement(O.a,{type:"checkbox",id:"q5-5",label:"Agender",value:H[5],onClick:function(e){Le(e.target.checked,Z,5,e.target.value)}}),a.a.createElement(O.a,{type:"checkbox",id:"q5-6",label:"Other",value:H[6],onClick:function(e){Le(e.target.checked,Z,6,e.target.value)}}),a.a.createElement(O.a,{type:"checkbox",id:"q5-7",label:"Prefer Not to Answer",value:H[7],onClick:function(e){Le(e.target.checked,Z,7,e.target.value)}}))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"How much do you view your ",a.a.createElement("b",null,"online persona(s)")," as something more than a digital representation?"),a.a.createElement(O.a,{type:"range",id:"q6",name:"range1",min:0,max:10,step:1,defaultValue:5,onChange:function(e){te(e.target.value)}}),a.a.createElement("h1",{className:"numeric-rep"},ee)),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},'On what online platforms, or "digital ecosystems", does your ',a.a.createElement("b",null,"online persona(s)")," exist? (social media, video games, text, forums, video etc.) Be specific."),a.a.createElement(k.a,{type:"textarea",name:"text2",id:"q7",onChange:function(e){ie(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"Generally, how often do you stay online per day as your ",a.a.createElement("b",null,"online persona(s)"),"?"),a.a.createElement("div",null,a.a.createElement(O.a,{type:"number",id:"q8-0",min:"0",placeholder:"number",onChange:function(e){ce(Math.abs(e.target.value))},inline:!0})," ",a.a.createElement(O.a,{type:"radio",id:"q8-1",name:"radio3",label:"Seconds",value:"sec",onClick:function(e){me(e.target.value)},inline:!0}),a.a.createElement(O.a,{type:"radio",id:"q8-2",name:"radio3",label:"Minutes",value:"min",onClick:function(e){me(e.target.value)},inline:!0}),a.a.createElement(O.a,{type:"radio",id:"q8-3",name:"radio3",label:"Hours",value:"hr",onClick:function(e){me(e.target.value)},inline:!0}))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"When you're offline, how often do you think of your ",a.a.createElement("b",null,"online persona(s)"),"? (0=never,10=all the time)"),a.a.createElement(O.a,{type:"range",id:"q9",name:"range2",min:0,max:10,step:1,defaultValue:5,onChange:function(e){be(e.target.value)}}),a.a.createElement("h1",{className:"numeric-rep"},_e)),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"Does your ",a.a.createElement("b",null,"online persona(s)")," have a different way of speaking than you?"),a.a.createElement("div",null,a.a.createElement(O.a,{type:"radio",id:"q10-0",name:"radio4",label:"Yes",onClick:function(){we(!0)}}),a.a.createElement(O.a,{type:"radio",id:"q10-1",name:"radio4",label:"No",onClick:function(){we(!1)}}))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"In one or two words, how does your ",a.a.createElement("b",null,"online persona(s)")," conduct themselves when communicating or interacting with others?"),a.a.createElement(k.a,{type:"textarea",name:"text3",id:"q11",onChange:function(e){Oe(e.target.value)}})),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"Overall, is your ",a.a.createElement("b",null,"online persona(s)"),":"),a.a.createElement("div",null,a.a.createElement(O.a,{type:"radio",id:"q12-0",name:"radio5",label:"A more ideal version of you ",onClick:function(){Te("more")}}),a.a.createElement(O.a,{type:"radio",id:"q12-1",name:"radio5",label:"Nearly identical to you",onClick:function(){Te("same")}}),a.a.createElement(O.a,{type:"radio",id:"q12-2",name:"radio5",label:"A lesser version of you",onClick:function(){Te("lesser")}}))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(y.a,null,a.a.createElement(x.a,{className:"question-title"},"Do you ever feel like you are in two different places at once when you are online?"),a.a.createElement("div",null,a.a.createElement(O.a,{type:"radio",id:"q13-0",name:"radio6",label:"Yes",onClick:function(){Re(!0)}}),a.a.createElement(O.a,{type:"radio",id:"q13-1",name:"radio6",label:"No",onClick:function(){Re(!1)}}))),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(A.a,null,"Submit")),p&&a.a.createElement(T,{age:P,gen:F,genPer:Z.objects,think:_e,speech:Ee,numOfPer:G,digitalR:ee,place:Pe,ver:Se,goToAbout:function(){window.location.href="/online-persona/#/about",window.location.reload()}})))}var T=function(e){var t=e.age,n=e.gen,i=e.genPer,r=e.think,s=e.speech,l=e.numOfPer,c=e.digitalR,d=e.place,u=e.ver,h=e.goToAbout,m=function(e){var o,a,m;e.setup=function(){o=e.createCanvas(e.windowWidth,e.windowHeight);var p=(e.windowWidth-e.width)/2,f=(e.windowHeight-e.height)/2;o.position(p,f),e.noStroke(),e.background(254,222,168);var _=e.windowWidth,b=e.windowHeight;e.push(),e.rectMode(e.CENTER),e.strokeWeight(4),e.stroke(0),e.rect(_/2,b/2,0,b-30),e.rect(_/2,b/2,e.dist(_/2,30,_/2,b-30),0),e.pop(),a=[_/2-e.dist(_/2,30,_/2,b/2),_/2+e.dist(_/2,30,_/2,b/2)],m=[30,b-30],e.push(),e.fill(0),e.textSize(30),e.textAlign(e.RIGHT,e.CENTER),e.text("MASK",_/2-e.dist(_/2,30,_/2,b/2),b/2),e.text("SPIRITUAL ",_/2,30),e.textAlign(e.LEFT,e.CENTER),e.text("MIRROR",_/2+e.dist(_/2,30,_/2,b/2),b/2),e.text(" SECULAR",_/2,b-30),e.textAlign(e.LEFT,e.TOP),e.pop();var g=0,v=0,E=e.color(0,0,0);"youth"==t?E=e.color(157,7,7):"young adult"==t?E=e.color(18,153,221):"middle age"==t?E=e.color(184,205,88):"older age"==t&&(E=e.color(222,114,43));for(var w=0,y=!1,x=0;x<i.length;x++)""!=i[x].val&&w++,i[x].val==n&&(y=!0);w>1?g-=1:1==w&&y&&(g+=1);var k=0;r>=5?(6==(k=e.abs(e.map(r,5,10,1,6)))&&(k=5),g+=k):g-=k=e.abs(e.map(r,0,4,5,1)),s?g+=2:g-=2,l>1?v+=1:l<=1&&(v-=1);var O=0;c>=5?(6==(O=e.abs(e.map(c,5,10,1,6)))&&(O=5),v+=O):v-=O=e.abs(e.map(c,0,4,5,1)),d?v+=2:v-=2,"same"==u?(v-=2,g+=2):""==u?(v+=0,g+=0):(v+=2,g-=2),e.fill(E);var A,C=e.map(g,-10,10,a[0],a[1]),S=e.map(v,-10,10,m[0],m[1]);e.ellipse(C,S,30,30),e.textAlign(e.LEFT,e.TOP),e.textSize(30),e.text("Your Result on the Compass!",10,10,400,100),(A=e.createButton("About")).position(10,40),A.mousePressed(h)}};return Object(o.useEffect)(function(){new C(m)},[]),a.a.createElement(a.a.Fragment,null)},N=function(e){function t(){window.location.href="/online-persona/#/home",window.location.reload()}var n=function(e){var n,o,a,i,r,s=function(e){o=e.val(),a=Object.keys(o);for(var t=0;t<a.length;t++){var n=a[t];new c(o[n])}},l=function(e){console.log("Error!"+e)};e.setup=function(){n=e.createCanvas(e.windowWidth,e.windowHeight);var t=(e.windowWidth-e.width)/2,o=(e.windowHeight-e.height)/2;n.position(t,o),e.noStroke()},e.draw=function(){e.background(254,222,168);var n,o=_.database().ref("responses"),a=e.windowWidth,c=e.windowHeight;e.push(),e.rectMode(e.CENTER),e.strokeWeight(4),e.stroke(0),e.rect(a/2,c/2,0,c-30),e.rect(a/2,c/2,e.dist(a/2,30,a/2,c-30),0),e.pop(),i=[a/2-e.dist(a/2,30,a/2,c/2),a/2+e.dist(a/2,30,a/2,c/2)],r=[30,c-30],e.push(),e.fill(0),e.textSize(30),e.textAlign(e.RIGHT,e.CENTER),e.text("MASK",a/2-e.dist(a/2,30,a/2,c/2),c/2),e.text("SPIRITUAL ",a/2,30),e.textAlign(e.LEFT,e.CENTER),e.text("MIRROR",a/2+e.dist(a/2,30,a/2,c/2),c/2),e.text(" SECULAR",a/2,c-30),e.textAlign(e.LEFT,e.TOP),e.pop(),o.on("value",s,l),(n=e.createButton("HOME")).position(a-80,c-40),n.mousePressed(t)};var c=function(t){var n=0,o=0,a=e.color(0,0,0);"youth"==t.age?a=e.color(157,7,7):"young adult"==t.age?a=e.color(18,153,221):"middle age"==t.age?a=e.color(184,205,88):"older age"==t.age&&(a=e.color(222,114,43));for(var s=0,l=!1,c=0;c<t.genderPersonas.objects.length;c++)""!=t.genderPersonas.objects[c].val&&s++,t.genderPersonas.objects[c].val==t.gender&&(l=!0);s>1?n-=1:1==s&&l&&(n+=1);var d=0;t.thinking>=5?(6==(d=e.abs(e.map(t.thinking,5,10,1,6)))&&(d=5),n+=d):n-=d=e.abs(e.map(t.thinking,0,4,5,1)),t.speech?n+=2:n-=2,t.numberOfPersona>1?o+=1:t.numberOfPersona<=1&&(o-=1);var u=0;t.digitalRepresentation>=5?(6==(u=e.abs(e.map(t.digitalRepresentation,5,10,1,6)))&&(u=5),o+=u):o-=u=e.abs(e.map(t.digitalRepresentation,0,4,5,1)),t.place?o+=2:o-=2,"same"==t.version?(o-=2,n+=2):""==t.version?(o+=0,n+=0):(o+=2,n-=2),e.fill(a);var h=e.map(n,-10,10,i[0],i[1]),m=e.map(o,-10,10,r[0],r[1]);e.ellipse(h,m,30,30),e.fill(255),e.textAlign(e.CENTER)}};return Object(o.useEffect)(function(){new C(n)},[]),a.a.createElement(a.a.Fragment,null)},j=function(){return a.a.createElement(N,null)},P=function(e){function t(){window.location.href="/online-persona/#/home",window.location.reload()}var n=function(e){var n,o,a,i,r,s,l=[],c=[],d=function(e){o=e.val(),a=Object.keys(o);for(var t=0;t<a.length;t++){var n=a[t],i=o[n].describePersona;l[t]=i}c=m(l)},u=function(e){console.log("Error!"+e)};e.setup=function(){n=e.createCanvas(e.windowWidth,e.windowHeight);var t=(e.windowWidth-e.width)/2,o=(e.windowHeight-e.height)/2;n.position(t,o),h(),s=e.windowHeight},e.draw=function(){e.background(255),i=e.windowWidth,r=e.windowHeight,e.push(),s>-r/2*c.length?s-=2:s=e.windowHeight,e.translate(0,s),e.textAlign(e.LEFT,e.TOP),e.textSize(45),e.fill(0);for(var n=0;n<c.length;n++)e.text(c[n],i-(i-50),r/2*n,i-50,r);var o;e.pop(),e.push(),e.strokeWeight(10),e.rect(i-(i-10),0,i-20,r-(r-90)),e.textAlign(e.LEFT,e.TOP),e.textSize(55),e.text("Online Persona:",i-(i-20),r-(r-20),i),e.pop(),(o=e.createButton("HOME")).position(i-80,r-40),o.mousePressed(t)};var h=function(){_.database().ref("responses").on("value",d,u)},m=function(e){for(var t,n,o=e,a=o.length;0!==a;)n=Math.floor(Math.random()*a),t=o[a-=1],o[a]=o[n],o[n]=t;return o}};return Object(o.useEffect)(function(){new C(n)},[]),a.a.createElement(a.a.Fragment,null)},R=function(){return a.a.createElement(P,null)},L=n(3),H=n(8),M=n(6),D=n(5),F=n(7),B=n(4),z=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new B.r,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:B.d.ROTATE,MIDDLE:B.d.DOLLY,RIGHT:B.d.PAN},this.touches={ONE:B.o.ROTATE,TWO:B.o.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return c.phi},this.getAzimuthalAngle=function(){return c.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),s=r.NONE},this.update=function(){var t=new B.r,a=(new B.k).setFromUnitVectors(e.up,new B.r(0,1,0)),i=a.clone().inverse(),p=new B.r,f=new B.k,_=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(a),c.setFromVector3(t),n.autoRotate&&s===r.NONE&&k(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(c.theta+=d.theta*n.dampingFactor,c.phi+=d.phi*n.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);var b=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(b)&&isFinite(g)&&(b<-Math.PI?b+=_:b>Math.PI&&(b-=_),g<-Math.PI?g+=_:g>Math.PI&&(g-=_),c.theta=b<g?Math.max(b,Math.min(g,c.theta)):c.theta>(b+g)/2?Math.max(b,c.theta):Math.min(g,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=u,c.radius=Math.max(n.minDistance,Math.min(n.maxDistance,c.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(c),t.applyQuaternion(i),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),h.set(0,0,0)),u=1,!!(m||p.distanceToSquared(n.object.position)>l||8*(1-f.dot(n.object.quaternion))>l)&&(n.dispatchEvent(o),p.copy(n.object.position),f.copy(n.object.quaternion),m=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",W,!1),n.domElement.removeEventListener("pointerdown",z,!1),n.domElement.removeEventListener("wheel",V,!1),n.domElement.removeEventListener("touchstart",U,!1),n.domElement.removeEventListener("touchend",X,!1),n.domElement.removeEventListener("touchmove",G,!1),n.domElement.ownerDocument.removeEventListener("pointermove",I,!1),n.domElement.ownerDocument.removeEventListener("pointerup",q,!1),n.domElement.removeEventListener("keydown",Y,!1)};var n=this,o={type:"change"},a={type:"start"},i={type:"end"},r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=r.NONE,l=1e-6,c=new B.n,d=new B.n,u=1,h=new B.r,m=!1,p=new B.q,f=new B.q,_=new B.q,b=new B.q,g=new B.q,v=new B.q,E=new B.q,w=new B.q,y=new B.q;function x(){return Math.pow(.95,n.zoomSpeed)}function k(e){d.theta-=e}function O(e){d.phi-=e}var A=function(){var e=new B.r;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),C=function(){var e=new B.r;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),S=function(){var e=new B.r;return function(t,o){var a=n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var r=e.length();r*=Math.tan(n.object.fov/2*Math.PI/180),A(2*t*r/a.clientHeight,n.object.matrix),C(2*o*r/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(A(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),C(o*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function T(e){n.object.isPerspectiveCamera?u/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(e){n.object.isPerspectiveCamera?u*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function j(e){p.set(e.clientX,e.clientY)}function P(e){b.set(e.clientX,e.clientY)}function R(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}}function L(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,n)}}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);E.set(0,o)}function M(e){if(1==e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,o)}_.subVectors(f,p).multiplyScalar(n.rotateSpeed);var a=n.domElement;k(2*Math.PI*_.x/a.clientHeight),O(2*Math.PI*_.y/a.clientHeight),p.copy(f)}function D(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,o)}v.subVectors(g,b).multiplyScalar(n.panSpeed),S(v.x,v.y),b.copy(g)}function F(e){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+o*o);w.set(0,a),y.set(0,Math.pow(w.y/E.y,n.zoomSpeed)),T(y.y),E.copy(w)}function z(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case B.d.DOLLY:if(!1===n.enableZoom)return;!function(e){E.set(e.clientX,e.clientY)}(e),s=r.DOLLY;break;case B.d.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;P(e),s=r.PAN}else{if(!1===n.enableRotate)return;j(e),s=r.ROTATE}break;case B.d.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;j(e),s=r.ROTATE}else{if(!1===n.enablePan)return;P(e),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",I,!1),n.domElement.ownerDocument.addEventListener("pointerup",q,!1),n.dispatchEvent(a))}(e)}}function I(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),s){case r.ROTATE:if(!1===n.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),_.subVectors(f,p).multiplyScalar(n.rotateSpeed);var t=n.domElement;k(2*Math.PI*_.x/t.clientHeight),O(2*Math.PI*_.y/t.clientHeight),p.copy(f),n.update()}(e);break;case r.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY),y.subVectors(w,E),y.y>0?T(x()):y.y<0&&N(x()),E.copy(w),n.update()}(e);break;case r.PAN:if(!1===n.enablePan)return;!function(e){g.set(e.clientX,e.clientY),v.subVectors(g,b).multiplyScalar(n.panSpeed),S(v.x,v.y),b.copy(g),n.update()}(e)}}(e)}}function q(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;n.domElement.ownerDocument.removeEventListener("pointermove",I,!1),n.domElement.ownerDocument.removeEventListener("pointerup",q,!1),n.dispatchEvent(i),s=r.NONE}()}}function V(e){!1===n.enabled||!1===n.enableZoom||s!==r.NONE&&s!==r.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(a),function(e){e.deltaY<0?N(x()):e.deltaY>0&&T(x()),n.update()}(e),n.dispatchEvent(i))}function Y(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:S(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:S(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:S(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:S(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function U(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case B.o.ROTATE:if(!1===n.enableRotate)return;R(e),s=r.TOUCH_ROTATE;break;case B.o.PAN:if(!1===n.enablePan)return;L(e),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(n.touches.TWO){case B.o.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&H(e),n.enablePan&&L(e)}(e),s=r.TOUCH_DOLLY_PAN;break;case B.o.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&H(e),n.enableRotate&&R(e)}(e),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&n.dispatchEvent(a)}}function G(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case r.TOUCH_ROTATE:if(!1===n.enableRotate)return;M(e),n.update();break;case r.TOUCH_PAN:if(!1===n.enablePan)return;D(e),n.update();break;case r.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&F(e),n.enablePan&&D(e)}(e),n.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&F(e),n.enableRotate&&M(e)}(e),n.update();break;default:s=r.NONE}}function X(e){!1!==n.enabled&&(n.dispatchEvent(i),s=r.NONE)}function W(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",W,!1),n.domElement.addEventListener("pointerdown",z,!1),n.domElement.addEventListener("wheel",V,!1),n.domElement.addEventListener("touchstart",U,!1),n.domElement.addEventListener("touchend",X,!1),n.domElement.addEventListener("touchmove",G,!1),n.domElement.addEventListener("keydown",Y,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};(z.prototype=Object.create(B.c.prototype)).constructor=z;var I=function(e,t){z.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=B.d.PAN,this.mouseButtons.RIGHT=B.d.ROTATE,this.touches.ONE=B.o.PAN,this.touches.TWO=B.o.DOLLY_ROTATE};function q(e,t){var n=e.__state.conversionName.toString(),o=Math.round(e.r),a=Math.round(e.g),i=Math.round(e.b),r=e.a,s=Math.round(e.h),l=e.s.toFixed(1),c=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var d=e.hex.toString(16);d.length<6;)d="0"+d;return"#"+d}return"CSS_RGB"===n?"rgb("+o+","+a+","+i+")":"CSS_RGBA"===n?"rgba("+o+","+a+","+i+","+r+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+o+","+a+","+i+"]":"RGBA_ARRAY"===n?"["+o+","+a+","+i+","+r+"]":"RGB_OBJ"===n?"{r:"+o+",g:"+a+",b:"+i+"}":"RGBA_OBJ"===n?"{r:"+o+",g:"+a+",b:"+i+",a:"+r+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+",a:"+r+"}":"unknown format"}(I.prototype=Object.create(B.c.prototype)).constructor=I;var V=Array.prototype.forEach,Y=Array.prototype.slice,U={BREAK:{},extend:function(e){return this.each(Y.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))},this),e},defaults:function(e){return this.each(Y.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))},this),e},compose:function(){var e=Y.call(arguments);return function(){for(var t=Y.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(V&&e.forEach&&e.forEach===V)e.forEach(t,n);else if(e.length===e.length+0){var o,a=void 0;for(a=0,o=e.length;a<o;a++)if(a in e&&t.call(n,e[a],a)===this.BREAK)return}else for(var i in e)if(t.call(n,e[i],i)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var o=void 0;return function(){var a=this,i=arguments;var r=n||!o;clearTimeout(o),o=setTimeout(function(){o=null,n||e.apply(a,i)},t),r&&e.apply(a,i)}},toArray:function(e){return e.toArray?e.toArray():Y.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},G=[{litmus:U.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:q},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:q},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:q},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:q}}},{litmus:U.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:U.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:U.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(U.isNumber(e.r)&&U.isNumber(e.g)&&U.isNumber(e.b)&&U.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(U.isNumber(e.r)&&U.isNumber(e.g)&&U.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(U.isNumber(e.h)&&U.isNumber(e.s)&&U.isNumber(e.v)&&U.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(U.isNumber(e.h)&&U.isNumber(e.s)&&U.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],X=void 0,W=void 0,K=function(){W=!1;var e=arguments.length>1?U.toArray(arguments):arguments[0];return U.each(G,function(t){if(t.litmus(e))return U.each(t.conversions,function(t,n){if(X=t.read(e),!1===W&&!1!==X)return W=X,X.conversionName=n,X.conversion=t,U.BREAK}),U.BREAK}),W},Z=void 0,J={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,a=e/60-Math.floor(e/60),i=n*(1-t),r=n*(1-a*t),s=n*(1-(1-a)*t),l=[[n,s,i],[r,n,i],[i,n,s],[i,r,n],[s,i,n],[n,i,r]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),a=Math.max(e,t,n),i=a-o,r=void 0;return 0===a?{h:NaN,s:0,v:0}:(r=e===a?(t-n)/i:t===a?2+(n-e)/i:4+(e-t)/i,(r/=6)<0&&(r+=1),{h:360*r,s:i/a,v:a/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),o=this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(Z=8*t)|e&~(255<<Z)}},Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),te=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(o):void 0},ne=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},oe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},ae=function(){function e(){if($(this,e),this.__state=K.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return ee(e,[{key:"toString",value:function(){return q(this)}},{key:"toHexString",value:function(){return q(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function ie(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(ae.recalculateRGB(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(ae.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function re(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(ae.recalculateHSV(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(ae.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}ae.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=J.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");U.extend(e.__state,J.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},ae.recalculateHSV=function(e){var t=J.rgb_to_hsv(e.r,e.g,e.b);U.extend(e.__state,{s:t.s,v:t.v}),U.isNaN(t.h)?U.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},ae.COMPONENTS=["r","g","b","h","s","v","hex","a"],ie(ae.prototype,"r",2),ie(ae.prototype,"g",1),ie(ae.prototype,"b",0),re(ae.prototype,"h"),re(ae.prototype,"s"),re(ae.prototype,"v"),Object.defineProperty(ae.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(ae.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=J.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var se=function(){function e(t,n){$(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return ee(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),le={};U.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){U.each(e,function(e){le[e]=t})});var ce=/(\d+(\.\d+)?)px/;function de(e){if("0"===e||U.isUndefined(e))return 0;var t=e.match(ce);return U.isNull(t)?0:parseFloat(t[1])}var ue={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var o=n,a=t;U.isUndefined(a)&&(a=!0),U.isUndefined(o)&&(o=!0),e.style.position="absolute",a&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var a=n||{},i=le[t];if(!i)throw new Error("Event type "+t+" not supported.");var r=document.createEvent(i);switch(i){case"MouseEvents":var s=a.x||a.clientX||0,l=a.y||a.clientY||0;r.initMouseEvent(t,a.bubbles||!1,a.cancelable||!0,window,a.clickCount||1,0,0,s,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=r.initKeyboardEvent||r.initKeyEvent;U.defaults(a,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,a.bubbles||!1,a.cancelable,window,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode);break;default:r.initEvent(t,a.bubbles||!1,a.cancelable||!0)}U.defaults(r,o),e.dispatchEvent(r)},bind:function(e,t,n,o){var a=o||!1;return e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on"+t,n),ue},unbind:function(e,t,n,o){var a=o||!1;return e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent&&e.detachEvent("on"+t,n),ue},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return ue},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!==o&&(n.splice(o,1),e.className=n.join(" "))}else e.className=void 0;return ue},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return de(t["border-left-width"])+de(t["border-right-width"])+de(t["padding-left"])+de(t["padding-right"])+de(t.width)},getHeight:function(e){var t=getComputedStyle(e);return de(t["border-top-width"])+de(t["border-bottom-width"])+de(t["padding-top"])+de(t["padding-bottom"])+de(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},he=function(e){function t(e,n){$(this,t);var o=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=o;return o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox"),ue.bind(o.__checkbox,"change",function(){a.setValue(!a.__prev)},!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return ne(t,se),ee(t,[{key:"setValue",value:function(e){var n=te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),me=function(e){function t(e,n,o){$(this,t);var a=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o,r=a;if(a.__select=document.createElement("select"),U.isArray(i)){var s={};U.each(i,function(e){s[e]=e}),i=s}return U.each(i,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),r.__select.appendChild(n)}),a.updateDisplay(),ue.bind(a.__select,"change",function(){var e=this.options[this.selectedIndex].value;r.setValue(e)}),a.domElement.appendChild(a.__select),a}return ne(t,se),ee(t,[{key:"setValue",value:function(e){var n=te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return ue.isActive(this.__select)?this:(this.__select.value=this.getValue(),te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(),pe=function(e){function t(e,n){$(this,t);var o=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=o;function i(){a.setValue(a.__input.value)}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),ue.bind(o.__input,"keyup",i),ue.bind(o.__input,"change",i),ue.bind(o.__input,"blur",function(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}),ue.bind(o.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return ne(t,se),ee(t,[{key:"updateDisplay",value:function(){return ue.isActive(this.__input)||(this.__input.value=this.getValue()),te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function fe(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var _e=function(e){function t(e,n,o){$(this,t);var a=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=o||{};return a.__min=i.min,a.__max=i.max,a.__step=i.step,U.isUndefined(a.__step)?0===a.initialValue?a.__impliedStep=1:a.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(a.initialValue))/Math.LN10))/10:a.__impliedStep=a.__step,a.__precision=fe(a.__impliedStep),a}return ne(t,se),ee(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!==0&&(n=Math.round(n/this.__step)*this.__step),te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=fe(e),this}}]),t}();var be=function(e){function t(e,n,o){$(this,t);var a=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));a.__truncationSuspended=!1;var i=a,r=void 0;function s(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}function l(e){var t=r-e.clientY;i.setValue(i.getValue()+t*i.__impliedStep),r=e.clientY}function c(){ue.unbind(window,"mousemove",l),ue.unbind(window,"mouseup",c),s()}return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),ue.bind(a.__input,"change",function(){var e=parseFloat(i.__input.value);U.isNaN(e)||i.setValue(e)}),ue.bind(a.__input,"blur",function(){s()}),ue.bind(a.__input,"mousedown",function(e){ue.bind(window,"mousemove",l),ue.bind(window,"mouseup",c),r=e.clientY}),ue.bind(a.__input,"keydown",function(e){13===e.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1,s())}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return ne(t,_e),ee(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(this.getValue(),this.__precision),te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}();function ge(e,t,n,o,a){return o+(e-t)/(n-t)*(a-o)}var ve=function(e){function t(e,n,o,a,i){$(this,t);var r=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:o,max:a,step:i})),s=r;function l(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(ge(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function c(){ue.unbind(window,"mousemove",l),ue.unbind(window,"mouseup",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function d(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(ge(t,n.left,n.right,s.__min,s.__max))}function u(){ue.unbind(window,"touchmove",d),ue.unbind(window,"touchend",u),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return r.__background=document.createElement("div"),r.__foreground=document.createElement("div"),ue.bind(r.__background,"mousedown",function(e){document.activeElement.blur(),ue.bind(window,"mousemove",l),ue.bind(window,"mouseup",c),l(e)}),ue.bind(r.__background,"touchstart",function(e){if(1!==e.touches.length)return;ue.bind(window,"touchmove",d),ue.bind(window,"touchend",u),d(e)}),ue.addClass(r.__background,"slider"),ue.addClass(r.__foreground,"slider-fg"),r.updateDisplay(),r.__background.appendChild(r.__foreground),r.domElement.appendChild(r.__background),r}return ne(t,_e),ee(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",te(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(),Ee=function(e){function t(e,n,o){$(this,t);var a=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=a;return a.__button=document.createElement("div"),a.__button.innerHTML=void 0===o?"Fire":o,ue.bind(a.__button,"click",function(e){return e.preventDefault(),i.fire(),!1}),ue.addClass(a.__button,"button"),a.domElement.appendChild(a.__button),a}return ne(t,se),ee(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(),we=function(e){function t(e,n){$(this,t);var o=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));o.__color=new ae(o.getValue()),o.__temp=new ae(0);var a=o;o.domElement=document.createElement("div"),ue.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",ue.bind(o.__input,"keydown",function(e){13===e.keyCode&&u.call(this)}),ue.bind(o.__input,"blur",u),ue.bind(o.__selector,"mousedown",function(){ue.addClass(this,"drag").bind(window,"mouseup",function(){ue.removeClass(a.__selector,"drag")})}),ue.bind(o.__selector,"touchstart",function(){ue.addClass(this,"drag").bind(window,"touchend",function(){ue.removeClass(a.__selector,"drag")})});var i,r=document.createElement("div");function s(e){m(e),ue.bind(window,"mousemove",m),ue.bind(window,"touchmove",m),ue.bind(window,"mouseup",c),ue.bind(window,"touchend",c)}function l(e){p(e),ue.bind(window,"mousemove",p),ue.bind(window,"touchmove",p),ue.bind(window,"mouseup",d),ue.bind(window,"touchend",d)}function c(){ue.unbind(window,"mousemove",m),ue.unbind(window,"touchmove",m),ue.unbind(window,"mouseup",c),ue.unbind(window,"touchend",c),h()}function d(){ue.unbind(window,"mousemove",p),ue.unbind(window,"touchmove",p),ue.unbind(window,"mouseup",d),ue.unbind(window,"touchend",d),h()}function u(){var e=K(this.value);!1!==e?(a.__color.__state=e,a.setValue(a.__color.toOriginal())):this.value=a.__color.toString()}function h(){a.__onFinishChange&&a.__onFinishChange.call(a,a.__color.toOriginal())}function m(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=a.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,o=n.clientX,i=n.clientY,r=(o-t.left)/(t.right-t.left),s=1-(i-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),r>1?r=1:r<0&&(r=0),a.__color.v=s,a.__color.s=r,a.setValue(a.__color.toOriginal()),!1}function p(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=a.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),a.__color.h=360*n,a.setValue(a.__color.toOriginal()),!1}return U.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),U.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),U.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),U.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),U.extend(r.style,{width:"100%",height:"100%",background:"none"}),xe(r,"top","rgba(0,0,0,0)","#000"),U.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(i=o.__hue_field).style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",U.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),ue.bind(o.__saturation_field,"mousedown",s),ue.bind(o.__saturation_field,"touchstart",s),ue.bind(o.__field_knob,"mousedown",s),ue.bind(o.__field_knob,"touchstart",s),ue.bind(o.__hue_field,"mousedown",l),ue.bind(o.__hue_field,"touchstart",l),o.__saturation_field.appendChild(r),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay(),o}return ne(t,se),ee(t,[{key:"updateDisplay",value:function(){var e=K(this.getValue());if(!1!==e){var t=!1;U.each(ae.COMPONENTS,function(n){if(!U.isUndefined(e[n])&&!U.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&U.extend(this.__color.__state,e)}U.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;U.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,xe(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),U.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),t}(),ye=["-moz-","-o-","-webkit-","-ms-",""];function xe(e,t,n,o){e.style.background="",U.each(ye,function(a){e.style.cssText+="background: "+a+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "})}var ke=function(e,t){var n=t||document,o=document.createElement("style");o.type="text/css",o.innerHTML=e;var a=n.getElementsByTagName("head")[0];try{a.appendChild(o)}catch(i){}},Oe=function(e,t){var n=e[t];return U.isArray(arguments[2])||U.isObject(arguments[2])?new me(e,t,arguments[2]):U.isNumber(n)?U.isNumber(arguments[2])&&U.isNumber(arguments[3])?U.isNumber(arguments[4])?new ve(e,t,arguments[2],arguments[3],arguments[4]):new ve(e,t,arguments[2],arguments[3]):U.isNumber(arguments[4])?new be(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new be(e,t,{min:arguments[2],max:arguments[3]}):U.isString(n)?new pe(e,t):U.isFunction(n)?new Ee(e,t,""):U.isBoolean(n)?new he(e,t):null};var Ae=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},Ce=function(){function e(){$(this,e),this.backgroundElement=document.createElement("div"),U.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),ue.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),U.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;ue.bind(this.backgroundElement,"click",function(){t.hide()})}return ee(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),U.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",ue.unbind(e.domElement,"webkitTransitionEnd",t),ue.unbind(e.domElement,"transitionend",t),ue.unbind(e.domElement,"oTransitionEnd",t)};ue.bind(this.domElement,"webkitTransitionEnd",t),ue.bind(this.domElement,"transitionend",t),ue.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-ue.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-ue.getHeight(this.domElement)/2+"px"}}]),e}();ke(function(e){if(e&&"undefined"!==typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var Se="Default",Te=function(){try{return!!window.localStorage}catch(e){return!1}}(),Ne=void 0,je=!0,Pe=void 0,Re=!1,Le=[],He=function e(t){var n=this,o=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),ue.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=U.defaults(o,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),o=U.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),U.isUndefined(o.load)?o.load={preset:Se}:o.preset&&(o.load.preset=o.preset),U.isUndefined(o.parent)&&o.hideable&&Le.push(this),o.resizable=U.isUndefined(o.parent)&&o.resizable,o.autoPlace&&U.isUndefined(o.scrollable)&&(o.scrollable=!0);var a=Te&&"true"===localStorage.getItem(Ie(this,"isLocal")),i=void 0,r=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,Ue(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,r&&(r.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(t){o.closed=t,o.closed?ue.addClass(n.__ul,e.CLASS_CLOSED):ue.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return a},set:function(e){Te&&(a=e,e?ue.bind(window,"unload",i):ue.unbind(window,"unload",i),localStorage.setItem(Ie(n,"isLocal"),e))}}}),U.isUndefined(o.parent)){if(this.closed=o.closed||!1,ue.addClass(this.domElement,e.CLASS_MAIN),ue.makeSelectable(this.domElement,!1),Te&&a){n.useLocalStorage=!0;var s=localStorage.getItem(Ie(this,"gui"));s&&(o.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,ue.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),o.closeOnTop?(ue.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(ue.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),ue.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===o.closed&&(o.closed=!0);var l=document.createTextNode(o.name);ue.addClass(l,"controller-name"),r=Me(n,l);ue.addClass(this.__ul,e.CLASS_CLOSED),ue.addClass(r,"title"),ue.bind(r,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),o.closed||(this.closed=!1)}o.autoPlace&&(U.isUndefined(o.parent)&&(je&&(Pe=document.createElement("div"),ue.addClass(Pe,"dg"),ue.addClass(Pe,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Pe),je=!1),Pe.appendChild(this.domElement),ue.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||Ue(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},ue.bind(window,"resize",this.__resizeHandler),ue.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),ue.bind(this.__ul,"transitionend",this.__resizeHandler),ue.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&Ye(this),i=function(){Te&&"true"===localStorage.getItem(Ie(n,"isLocal"))&&localStorage.setItem(Ie(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=i,o.parent||function(){var e=n.getRoot();e.width+=1,U.defer(function(){e.width-=1})}()};function Me(e,t,n){var o=document.createElement("li");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,n):e.__ul.appendChild(o),e.onResize(),o}function De(e){ue.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&ue.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function Fe(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function Be(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!==o){var a=n.__rememberedObjectIndecesToControllers[o];if(void 0===a&&(a={},n.__rememberedObjectIndecesToControllers[o]=a),a[t.property]=t,n.load&&n.load.remembered){var i=n.load.remembered,r=void 0;if(i[e.preset])r=i[e.preset];else{if(!i[Se])return;r=i[Se]}if(r[o]&&void 0!==r[o][t.property]){var s=r[o][t.property];t.initialValue=s,t.setValue(s)}}}}function ze(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var a=void 0;if(o.color)a=new we(t,n);else{var i=[t,n].concat(o.factoryArgs);a=Oe.apply(e,i)}o.before instanceof se&&(o.before=o.before.__li),Be(e,a),ue.addClass(a.domElement,"c");var r=document.createElement("span");ue.addClass(r,"property-name"),r.innerHTML=a.property;var s=document.createElement("div");s.appendChild(r),s.appendChild(a.domElement);var l=Me(e,s,o.before);return ue.addClass(l,He.CLASS_CONTROLLER_ROW),a instanceof we?ue.addClass(l,"color"):ue.addClass(l,Q(a.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,U.extend(n,{options:function(t){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),ze(e,n.object,n.property,{before:o,factoryArgs:[U.toArray(arguments)]})}if(U.isArray(t)||U.isObject(t)){var a=n.__li.nextElementSibling;return n.remove(),ze(e,n.object,n.property,{before:a,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof ve){var o=new be(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});U.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(e){var t=n[e],a=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return a.apply(o,e),t.apply(n,e)}}),ue.addClass(t,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof be){var a=function(t){if(U.isNumber(n.__min)&&U.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,a=n.__gui.__listening.indexOf(n)>-1;n.remove();var i=ze(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return i.name(o),a&&i.listen(),i}return t};n.min=U.compose(a,n.min),n.max=U.compose(a,n.max)}else n instanceof he?(ue.bind(t,"click",function(){ue.fakeEvent(n.__checkbox,"click")}),ue.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof Ee?(ue.bind(t,"click",function(){ue.fakeEvent(n.__button,"click")}),ue.bind(t,"mouseover",function(){ue.addClass(n.__button,"hover")}),ue.bind(t,"mouseout",function(){ue.removeClass(n.__button,"hover")})):n instanceof we&&(ue.addClass(t,"color"),n.updateDisplay=U.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=U.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&Fe(e.getRoot(),!0),t},n.setValue)}(e,l,a),e.__controllers.push(a),a}function Ie(e,t){return document.location.href+"."+t}function qe(e,t,n){var o=document.createElement("option");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function Ve(e,t){t.style.display=e.useLocalStorage?"block":"none"}function Ye(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function o(){ue.removeClass(e.__closeButton,He.CLASS_DRAG),ue.unbind(window,"mousemove",n),ue.unbind(window,"mouseup",o)}function a(a){return a.preventDefault(),t=a.clientX,ue.addClass(e.__closeButton,He.CLASS_DRAG),ue.bind(window,"mousemove",n),ue.bind(window,"mouseup",o),!1}e.__resize_handle=document.createElement("div"),U.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),ue.bind(e.__resize_handle,"mousedown",a),ue.bind(e.__closeButton,"mousedown",a),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function Ue(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function Ge(e,t){var n={};return U.each(e.__rememberedObjects,function(o,a){var i={},r=e.__rememberedObjectIndecesToControllers[a];U.each(r,function(e,n){i[n]=t?e.initialValue:e.getValue()}),n[a]=i}),n}He.toggleHide=function(){Re=!Re,U.each(Le,function(e){e.domElement.style.display=Re?"none":""})},He.CLASS_AUTO_PLACE="a",He.CLASS_AUTO_PLACE_CONTAINER="ac",He.CLASS_MAIN="main",He.CLASS_CONTROLLER_ROW="cr",He.CLASS_TOO_TALL="taller-than-window",He.CLASS_CLOSED="closed",He.CLASS_CLOSE_BUTTON="close-button",He.CLASS_CLOSE_TOP="close-top",He.CLASS_CLOSE_BOTTOM="close-bottom",He.CLASS_DRAG="drag",He.DEFAULT_WIDTH=245,He.TEXT_CLOSED="Close Controls",He.TEXT_OPEN="Open Controls",He._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||He.toggleHide()},ue.bind(window,"keydown",He._keydownHandler,!1),U.extend(He.prototype,{add:function(e,t){return ze(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return ze(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;U.defer(function(){t.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Pe.removeChild(this.domElement);var e=this;U.each(this.__folders,function(t){e.removeFolder(t)}),ue.unbind(window,"keydown",He._keydownHandler,!1),De(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new He(t);this.__folders[e]=n;var o=Me(this,n.domElement);return ue.addClass(o,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],De(e);var t=this;U.each(e.__folders,function(t){e.removeFolder(t)}),U.defer(function(){t.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=ue.getOffset(e.__ul).top,n=0;U.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=ue.getHeight(t))}),window.innerHeight-t-20<n?(ue.addClass(e.domElement,He.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(ue.removeClass(e.domElement,He.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&U.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:U.debounce(function(){this.onResize()},50),remember:function(){if(U.isUndefined(Ne)&&((Ne=new Ce).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;U.each(Array.prototype.slice.call(arguments),function(t){0===e.__rememberedObjects.length&&function(e){var t=e.__save_row=document.createElement("li");ue.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),ue.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",ue.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",ue.addClass(o,"button"),ue.addClass(o,"save");var a=document.createElement("span");a.innerHTML="New",ue.addClass(a,"button"),ue.addClass(a,"save-as");var i=document.createElement("span");i.innerHTML="Revert",ue.addClass(i,"button"),ue.addClass(i,"revert");var r=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?U.each(e.load.remembered,function(t,n){qe(e,n,n===e.preset)}):qe(e,Se,!1);if(ue.bind(r,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(r),t.appendChild(n),t.appendChild(o),t.appendChild(a),t.appendChild(i),Te){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),c=document.getElementById("dg-save-locally");c.style.display="block","true"===localStorage.getItem(Ie(e,"isLocal"))&&l.setAttribute("checked","checked"),Ve(e,s),ue.bind(l,"change",function(){e.useLocalStorage=!e.useLocalStorage,Ve(e,s)})}var d=document.getElementById("dg-new-constructor");ue.bind(d,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||Ne.hide()}),ue.bind(n,"click",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),Ne.show(),d.focus(),d.select()}),ue.bind(o,"click",function(){e.save()}),ue.bind(a,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),ue.bind(i,"click",function(){e.revert()})}(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&Ue(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=Ge(this)),e.folders={},U.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Ge(this),Fe(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Se]=Ge(this,!0)),this.load.remembered[e]=Ge(this),this.preset=e,qe(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){U.each(this.__controllers,function(t){this.getRoot().load.remembered?Be(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())},this),U.each(this.__folders,function(e){e.revert(e)}),e||Fe(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&Ae.call(window,function(){e(t)});U.each(t,function(e){e.updateDisplay()})}(this.__listening)},updateDisplay:function(){U.each(this.__controllers,function(e){e.updateDisplay()}),U.each(this.__folders,function(e){e.updateDisplay()})}});var Xe=He,We=function(e){function t(){return Object(L.a)(this,t),Object(M.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(H.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,o,a,i,r,s,l,c,d,u,h,m,p={goHome:function(){window.location.href="/online-persona/#/home",window.location.reload()}},f=[{gender:"male",color:new B.g({color:5903011,wireframe:!1})},{gender:"female",color:new B.g({color:16777215,wireframe:!1})},{gender:"nonbinary",color:new B.g({color:16770304,wireframe:!1})},{gender:"trans",color:new B.g({color:680680,wireframe:!1})},{gender:"genderqueer",color:new B.g({color:2790214,wireframe:!1})},{gender:"agender",color:new B.g({color:14713387,wireframe:!1})},{gender:"other",color:new B.g({color:16168657,wireframe:!1})},{gender:"",color:new B.g({color:9586944,wireframe:!0})}],b=[],g=!0,v=_.database().ref("responses"),E=function(e){for(var t=e.val(),n=Object.keys(t),o=0;o<n.length;o++){var a=n[o];y(t[a],o)}g=!1},w=function(e){console.log("Error!"+e)},y=function(e,t){var n,o,a,i=new B.m(5,32,32),r=[];if(""!=e.gender)for(var s=0;s<f.length;s++)e.gender==f[s].gender&&(o=f[s].color);else o=f[7].color;for(s=0;s<e.genderPersonas.objects.length;s++)""!=e.genderPersonas.objects[s].val&&" "!=e.genderPersonas.objects[s].val&&void 0!=e.genderPersonas.objects[s].val&&r.push(e.genderPersonas.objects[s].val);var l=Math.round(Math.random()*(r.length-1-0)+0);for(s=0;s<f.length;s++)r[l]==f[s].gender&&(a=f[s].color);void 0!==r&&0!=r.length||(a=f[7].color),(n=new B.f(i,o)).visible=!1,n.position.z=Math.round(-650*Math.random()-300);var c=Math.random()*Math.PI*2,d=35*Math.sqrt(Math.random()),u=Math.cos(c)*d,h=Math.sin(c)*d;n.position.x=u,n.position.y=h,b.push({Sphere:n,val:o,newVal:a})};window.addEventListener("resize",function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)},!1),function(){(new Xe).add(p,"goHome").name("CLICK HERE"),v.on("value",E,w),e=new B.l,t=new B.j(75,window.innerWidth/window.innerHeight,.1,1e3),(n=new B.s({antialias:!0})).setSize(window.innerWidth,window.innerHeight),document.body.appendChild(n.domElement),o=new B.a(16777215,5),e.add(o);var f=new B.p(50,3,16,100),_=new B.i({color:2200782,transparent:!0,opacity:.8});a=new B.f(f,_),e.add(a);var b=new B.b(49,32),g=new B.g({color:16777215,transparent:!0,opacity:.3});s=new B.f(b,g),l=new B.f(b,g),s.rotation.x=B.e.degToRad(180),e.add(l,s);var y=new B.p(45,10,16,100),x=new B.h({color:2200782,wireframe:!0,wireframeLinewidth:.05});(i=new B.f(y,x)).position.z=300,e.add(i);var k=new B.b(44,32),O=new B.g({color:16777215});(c=new B.f(k,O)).position.z=300,e.add(c),(d=new B.f(k,O)).position.z=300,d.rotation.x=B.e.degToRad(180),e.add(d);var A=new B.p(50,3,16,100),C=new B.h({color:16250624,emissive:16777215,emissiveIntensity:.5});(r=new B.f(A,C)).position.z=-300,e.add(r);var S=new B.b(49,32);(u=new B.f(S,O)).position.z=-300,e.add(u),(h=new B.f(S,O)).position.z=-300,h.rotation.x=B.e.degToRad(180),e.add(h),t.position.z=100,(m=new z(t,n.domElement)).minDistance=100,m.maxDistance=500}(),function o(){if(requestAnimationFrame(o),m.update(),console.log(g),b.length<=0&&(g=!0),0==g)for(var a=0;a<b.length;a++)e.add(b[a].Sphere),b[a].Sphere.position.z>=-300&&(b[a].Sphere.visible=!0),b[a].Sphere.position.z>0&&(b[a].Sphere.material=b[a].newVal),b[a].Sphere.position.z<300?b[a].Sphere.position.z+=2.5:(e.remove(b[a].Sphere),b.splice(a,1));else v.on("value",E,w);n.render(e,t)}()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{ref:function(t){e.mount=t}})}}]),t}(o.Component);function Ke(e){var t=[{path:"/about",component:g},{path:"/form",component:S},{path:"/compass",component:j},{path:"/user-defined",component:R},{path:"/the-crossing",component:We}];return a.a.createElement(s.a,null,a.a.createElement(l.c,null,t.map(function(e,t){return a.a.createElement(l.a,{exact:!0,key:t,path:e.path,component:e.component})}),a.a.createElement(l.a,{component:b})))}_.initializeApp({apiKey:"AIzaSyB16oLZzyqhD1WSEdQZ2P86cYt1v7crf90",authDomain:"online-persona.firebaseapp.com",databaseURL:"https://online-persona.firebaseio.com",projectId:"online-persona",storageBucket:"online-persona.appspot.com",messagingSenderId:"897908280883",appId:"1:897908280883:web:627ed8fb27ee9a27571d46",measurementId:"G-NWSQSEMN2C"}),r.a.render(a.a.createElement(Ke,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.27317dd0.chunk.js.map