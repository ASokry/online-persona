{"version":3,"sources":["pages/home/img/compass.png","pages/home/img/userDefined.png","pages/home/img/theCrossing.png","pages/home/Home.js","pages/about/About.js","pages/form/Form.js","pages/visuals/CompassSketch.js","pages/visuals/Compass.js","pages/visuals/UserDefinedSketch.js","pages/visuals/UserDefined.js","pages/visuals/OrbitControls.js","pages/visuals/dat.gui.module.js","pages/visuals/TheCrossing.js","route.js","index.js"],"names":["module","exports","__webpack_require__","p","HomePage","_useState","useState","_useState2","Object","slicedToArray","setUsers","useEffect","firebase","ref","on","snapshot","temp","val","_i","_Object$entries","entries","length","_ref3","_ref2","value","react_default","a","createElement","className","style","color","react_router_dom","to","src","CompassImg","UserDefinedImg","TheCrossingImg","AboutPage","MyForm","props","idNum","setIdNum","_useState3","_useState4","_useState5","_useState6","confirmed","setConfirmed","_useState7","x","_useState8","_useState9","ageGroups","_useState11","_useState12","ageGroup","setAgeGroup","_useState13","genders","_useState15","_useState16","genderIRL","setGenderIRL","_useState17","_useState18","desPersona","setDesPersona","_useState19","_useState20","numPersona","setNumPersona","_useState21","objects","id","_useState22","genderPersona","setGenderPersona","_useState23","_useState24","digitalRep","setDigitalRep","_useState25","_useState26","platform","setPlatform","_useState27","_useState28","onlineTime","setOnlineTime","_useState29","_useState30","whatTime","setWhatTime","_useState31","_useState32","thinkOften","setThinkOften","_useState33","_useState34","speakPersona","setSpeakPersona","_useState35","_useState36","conductPersona","setConductPersona","_useState37","_useState38","versionPersona","setVersionPersona","_useState39","_useState40","twoPlaces","setTwoPlaces","changeValue","checked","arr","index","arrayCopy","toConsumableArray","objectSpread","readUser","leng","randomChars","result","i","charAt","Math","floor","random","RandomString","handleSubmit","event","preventDefault","obj","age","gender","describePersona","numberOfPersona","genderPersonas","digitalRepresentation","platforms","online","thinking","speech","conduct","version","place","set","writeUserData","Form","onSubmit","FormGroup","tag","Label","check","Input","type","name","onClick","target","onChange","CustomInput","label","min","max","step","defaultValue","placeholder","abs","inline","Button","Form_Result","gen","genPer","think","numOfPer","digitalR","ver","goToAbout","window","location","href","process","reload","Result","_ref4","Sketch","p5","cnv","gXrange","gYrange","setup","createCanvas","windowWidth","windowHeight","xPos","width","yPos","height","position","noStroke","background","push","rectMode","CENTER","strokeWeight","stroke","rect","dist","pop","fill","textSize","textAlign","RIGHT","text","LEFT","TOP","y","genderNum","isGenderSame","g","thinkAmount","map","digiRep","button","mapX","mapY","ellipse","createButton","mousePressed","Fragment","CompassSketch","GoHome","data","keys","getData","d","k","Dot","errData","err","console","log","draw","CompassPage","visuals_CompassSketch","UserDefinedSketch","yScroll","defs","defsToScoll","definition","shuffle","readDatabase","translate","temporaryValue","randomIndex","array","currentIndex","UserDefinedPage","visuals_UserDefinedSketch","OrbitControls","object","domElement","undefined","warn","document","error","this","enabled","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","clone","position0","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","rotateLeft","sphericalDelta","isFinite","makeSafe","radius","scale","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","zoomChanged","distanceToSquared","EPS","dot","quaternion","dispose","removeEventListener","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","onKeyDown","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","angle","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","subVectors","handleTouchMovePan","handleTouchMoveDolly","pointerType","mouseAction","focus","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","addEventListener","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","onMouseUp","stopPropagation","handleMouseWheel","needsUpdate","keyCode","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","tabIndex","prototype","create","EventDispatcher","constructor","MapControls","call","colorToString","forceCSSHex","colorFormat","__state","conversionName","toString","r","round","b","h","s","toFixed","str","hex","ARR_EACH","Array","forEach","ARR_SLICE","slice","Common","BREAK","extend","each","arguments","isObject","key","isUndefined","bind","defaults","compose","toCall","args","apply","itr","l","_key","defer","fnc","setTimeout","debounce","func","threshold","callImmediately","timeout","callNow","clearTimeout","toArray","isNull","isNaN","_isNaN","isArray","isNumber","isString","isBoolean","isFunction","Function","INTERPRETATIONS","litmus","conversions","THREE_CHAR_HEX","read","original","test","match","space","parseInt","write","SIX_CHAR_HEX","CSS_RGB","parseFloat","CSS_RGBA","HEX","RGB_ARRAY","RGBA_ARRAY","RGBA_OBJ","RGB_OBJ","HSVA_OBJ","HSV_OBJ","toReturn","interpret","family","conversion","tmpComponent","ColorMath","hsv_to_rgb","hi","f","q","t","c","rgb_to_hsv","delta","NaN","rgb_to_hex","hex_with_component","component_from_hex","componentIndex","_typeof","Symbol","iterator","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","get","property","receiver","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","inherits","subClass","superClass","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","Color","Error","defineRGBComponent","component","componentHexIndex","recalculateRGB","defineHSVComponent","recalculateHSV","COMPONENTS","Controller","initialValue","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP_INV","HTMLEvents","MouseEvents","KeyboardEvents","e","CSS_VALUE_PIXELS","cssValueToPixels","dom","makeSelectable","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","makeFullscreen","hor","vert","vertical","horizontal","fakeEvent","eventType","pars","aux","params","evt","createEvent","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","altKey","charCode","initEvent","newBool","bool","attachEvent","unbind","detachEvent","addClass","classes","split","indexOf","join","replace","removeClass","removeAttribute","splice","hasClass","RegExp","getWidth","getComputedStyle","getHeight","getOffset","el","offsetParent","offsetLeft","offsetTop","isActive","activeElement","BooleanController","_Controller","_this2","_this","__prev","__checkbox","setAttribute","setValue","appendChild","OptionController","opts","options","__select","opt","innerHTML","desiredValue","selectedIndex","StringController","__input","blur","numDecimals","_x","NumberController","_params","__min","__max","__step","__impliedStep","LN10","__precision","_v","minValue","maxValue","stepValue","NumberControllerBox","_NumberController","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","attempted","decimals","tenTo","roundToDecimal","i1","i2","o1","o2","NumberControllerSlider","bgRect","__background","getBoundingClientRect","__foreground","pct","FunctionController","__button","fire","ColorController","__color","__temp","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","onBlur","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","_ref","padding","backgroundColor","boxShadow","border","borderRadius","zIndex","borderRight","marginRight","display","cursor","linearGradient","cssText","outline","fontWeight","textShadow","mismatch","flip","_flip","marginLeft","marginTop","toHexString","vendors","vendor","css","cssContent","indoc","doc","injected","head","getElementsByTagName","ControllerFactory","requestAnimationFrame$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","CenteredDiv","backgroundElement","opacity","WebkitTransition","transition","body","hide","webkitTransform","layout","innerWidth","innerHeight","___$insertStyle","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","closeOnTop","autoPlace","DEFAULT_WIDTH","resizable","hideable","load","preset","scrollable","useLocalStorage","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","getRoot","gui","__preset_select","setPresetSelectIndex","revert","setWidth","closed","CLASS_CLOSED","onResize","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","addResizeHandle","stringify","getSaveObject","saveToLocalStorageIfPossible","root","resetWidth","newDom","liBefore","li","removeListeners","markPresetModified","modified","recallSavedValue","controller","matchedIndex","controllerMap","remembered","presetMap","_add","factoryArgs","concat","before","__li","container","CLASS_CONTROLLER_ROW","__gui","_options","nextSibling","nextElementSibling","remove","_nextSibling","_name","firstElementChild","listen","box","method","pc","pb","returned","oldName","wasListening","newController","borderLeftColor","isModified","augmentController","addPresetOption","setSelected","showHideExplain","explain","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","w","__save_row","getCurrentPreset","useInitialValues","savedValues","toggleHide","CLASS_TOO_TALL","_keydownHandler","which","addColor","removeChild","destroy","subfolder","removeFolder","addFolder","newGuiParams","folders","folder","parentElement","open","close","show","node","offsetHeight","remember","div","firstChild","gears","button2","button3","select","getElementById","localStorageCheckBox","saveLocally","newConstructorTextArea","save","presetName","prompt","saveAs","addSaveMenu","updateDisplays","controllerArray","GUI$1","ThreeScene","scene","camera","renderer","light","gate","onlineGate","irlGate","circle","circle1","circleOnline","circleOnline1","circleIRL","circleIRL1","controls","goHome","genderCol","THREE","wireframe","spheres","isEmpty","addSphere","num","sphere","newColor","sphereGeom","personaGenders","visible","z","cos","sin","Sphere","newVal","aspect","setSize","antialias","torusGeom","torusMat","transparent","circleGeom","circleMat","rotation","degToRad","torusGeom1","torusMat1","wireframeLinewidth","circleGeom1","circleMat1","torusGeom2","torusMat2","emissive","emissiveIntensity","circleGeom2","animate","material","render","mount","Component","Routes","routes","path","About","Compass","UserDefined","TheCrossing","react_router","route","exact","Home","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM"],"mappings":"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","file":"static/js/main.27317dd0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/compass.031cc345.png\";","module.exports = __webpack_public_path__ + \"static/media/userDefined.1572bce3.png\";","module.exports = __webpack_public_path__ + \"static/media/theCrossing.c29a695a.png\";","import React,{useState,useEffect} from 'react';\nimport './customHome.css';\nimport CompassImg from './img/compass.png';\nimport UserDefinedImg from './img/userDefined.png';\nimport TheCrossingImg from './img/theCrossing.png';\nimport * as firebase from 'firebase';\nimport { Link } from 'react-router-dom';\n\nexport default function HomePage() {\n  const [users,setUsers] = useState([]);\n  useEffect(()=>{readUser()}, []);\n  function readUser() {\n    firebase.database().ref('responses').on('value',(snapshot)=>{\n        let temp = [];\n        if(snapshot.val() != null) {\n            for (const [key, value] of Object.entries(snapshot.val())) {\n                temp[temp.length] = value;\n              }\n            setUsers(temp);\n        }\n    })\n  }\n\n  //// Return HTML\n  return (\n    <div className=\"home\">\n      <div className=\"home-header\">\n        <h1>Online <b style={{color: \"#9900ff\"}}>Persona</b></h1>\n        <div className=\"header-description\">\n          Participants complete a survey, answering some questions pertaining to their opinions and views of their online personas. Responses will be archived and used to generate real-time data visualizations. It is recommended to take the survey first before viewing the resulting data visualization as some questions are intentionally left open-ended and abstract to prompt a response that best reflects one's interpretation of the question and purest reaction.\n        </div>\n        <nav><Link to=\"/\">HOME</Link> | <Link to=\"/form\">TAKE THE SURVEY</Link> | <Link to=\"/about\">ABOUT</Link></nav>\n      </div>\n\n      <div className=\"home-visuals\">\n        <div className=\"visual\">\n          <h4><Link to=\"/compass\">Compass</Link></h4>\n          <div className=\"img-container\">\n            <Link to=\"/compass\"><img src={CompassImg} className=\"visual-img\"></img></Link>\n          </div>\n        </div>\n        <div className=\"visual\">\n          <h4><Link to=\"/user-defined\">User Defined</Link></h4>\n          <div className=\"img-container\">\n            <Link to=\"/user-defined\"><img src={UserDefinedImg} className=\"visual-img\"></img></Link>\n          </div>\n        </div>\n        <div className=\"visual\">\n          <h4><Link to=\"/the-crossing\">The Crossing</Link></h4>\n          <div>\n            <Link to=\"/the-crossing\"><img src={TheCrossingImg} className=\"visual-img\"></img></Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n  ////\n}\n","import React,{useState} from 'react';\nimport './About.css';\nimport { Link } from 'react-router-dom';\n\nexport default function AboutPage() {\n  return (\n    <div className=\"about\">\n      <div className=\"about-header\">\n        <h1>Online <b style={{color: \"#9900ff\"}}>Persona</b></h1>\n        <div className=\"about-description\">\n          <h3 className=\"about-sub\">About the Project</h3>\n          A project that explores how people associate with their online identities and internet personas to reveal hidden connections within the collective unconscious.Participants complete a survey, answering various questions pertaining to their opinions and views of their online personas. Responses are archived and used to generate real-time data visualizations. It is recommended to take the survey first before viewing the resulting data visualization as some questions are intentionally left open-ended and abstract to prompt a response that best reflects one's interpretation of the question and purest reaction.\n          <br></br>\n          Below are data visualizations generated from the survey database.\n        </div>\n        <nav><Link to=\"/\">HOME</Link> | <Link to=\"/form\">TAKE THE SURVEY</Link> | <Link to=\"/about\">ABOUT</Link></nav>\n      </div>\n\n      <div className=\"about-visuals\">\n        <div className=\"visual\">\n          <h4><Link to=\"/compass\">Compass</Link></h4>\n          <div>\n          A dot is placed on a grid-like chart for every user who has completed the survey. The dot represents every user and is placed on the chart based on their responses. Along each axis represents a pair of opposing views towards the idea of the online persona. On the X-axis is the idea of the Mask vs the Mirror where the Mask represents the online persona as another person or entity and the Mirror represents the same person or a reflection of self. On the Y-axis is the idea of the spiritual vs the secular, where the spiritual side views the online persona as something more than just a digital representation of self and the secular side views it as having no special significance. The colors of the dots are based on what age group the users are from. Youths being red, young adults are blue, middle age is green, and older age is orange.\n          </div>\n          <ul className=\"visual-tag\">\n            <li>P5.js</li>\n            <li>React.js</li>\n            <li>Firebase</li>\n          </ul>\n        </div>\n        <div className=\"visual\">\n          <h4><Link to=\"/user-defined\">User Defined</Link></h4>\n          <div>\n          Personal definitions, from participants, of what is an online persona scroll down the screen. A way to truly best witness any underlying connections that we all have in viewing and defining online personas.\n          </div>\n          <ul className=\"visual-tag\">\n            <li>P5.js</li>\n            <li>React.js</li>\n            <li>Firebase</li>\n          </ul>\n        </div>\n        <div className=\"visual\">\n          <h4>The Crossing</h4>\n          <div>\n          Colored spheres traverse from one side to another in a virtual environment, exiting the real world gate(the yellow circle), passing through the transition gate(the rainbow circle in the middle), and entering the online gate(the blue circle). The beginning color of the sphere is based on what gender the user identifies with in the real world and as the spheres pass the transition gate, they change color based on what genders the user identifies with when online. Male is purple, female is white, nonbinary is yellow, trans is blue, genderqueer is green, agender is orange, other is pink, and users who prefer not to answer is brown with a wireframe texture.\n          </div>\n          <ul className=\"visual-tag\">\n            <li>Three.js</li>\n            <li>React.js</li>\n            <li>Firebase</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React,{useState,useEffect, Component} from 'react';\r\nimport { Button, CustomInput, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\r\nimport './Form.css'\r\nimport * as firebase from 'firebase';\r\nimport * as p5 from 'p5';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function MyForm(props){\r\n    const [idNum,setIdNum] = useState(0);\r\n    const [users,setUsers] = useState([]);\r\n    const [confirmed, setConfirmed] = useState(false);\r\n    const [test, setTest] = useState({x:'hello'});\r\n\r\n    //// Question Variables\r\n    const [ageGroups] = useState([\"youth\", \"young adult\", \"middle age\", \"older age\"]);\r\n    const [ageGroup,setAgeGroup] = useState(\"\");\r\n    const [genders] = useState([\"male\", \"female\", \"nonbinary\", \"trans\", \"genderqueer\", \"agender\", \"other\", \"\"]);\r\n    const [genderIRL,setGenderIRL] = useState(\"\");\r\n    const [desPersona, setDesPersona] = useState(\"\");\r\n    const [numPersona, setNumPersona] = useState(0);\r\n    const [genderPersona, setGenderPersona] = useState({\r\n      objects: [\r\n        {id: 0, val: \"\"},\r\n        {id: 0, val: \"\"},\r\n        {id: 0, val: \"\"},\r\n        {id: 0, val: \"\"},\r\n        {id: 0, val: \"\"},\r\n        {id: 0, val: \"\"},\r\n        {id: 0, val: \"\"},\r\n        {id: 0, val: \"\"}\r\n      ]\r\n    }); \r\n\r\n    const [digitalRep,setDigitalRep] = useState(5);\r\n    const [platform, setPlatform] = useState(\"\");\r\n    const [onlineTime, setOnlineTime] = useState(0);\r\n    const [whatTime, setWhatTime] = useState(\"\");\r\n    const [thinkOften, setThinkOften] = useState(5);\r\n    const [speakPersona, setSpeakPersona] = useState(false);\r\n    const [conductPersona, setConductPersona] = useState(\"\");\r\n    const [versionPersona, setVersionPersona] = useState(\"\");\r\n    const [twoPlaces, setTwoPlaces] = useState(false);\r\n    ////\r\n\r\n    function changeValue(checked, arr,index, val) {\r\n      let arrayCopy = [...arr.objects]\r\n      if(checked){\r\n        arrayCopy[index].val = val\r\n      }\r\n      else{\r\n        arrayCopy[index].val = null\r\n      }\r\n      setGenderPersona({...arr, objects: arrayCopy});\r\n    }\r\n\r\n    useEffect(()=>{readUser()}, []);\r\n\r\n    function RandomString(leng) {\r\n      var randomChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n      var result = '';\r\n      for ( var i = 0; i < leng; i++ ) {\r\n          result += randomChars.charAt(Math.floor(Math.random() * randomChars.length));\r\n      }\r\n      return result;\r\n  }\r\n\r\n    // console.log(users[users.length-1] && users[users.length-1].id);\r\n    function writeUserData() {\r\n      readUser();\r\n      \r\n      let obj = {\r\n          age: ageGroup,\r\n          gender: genderIRL,\r\n          describePersona: desPersona,\r\n          numberOfPersona: numPersona,\r\n          genderPersonas: genderPersona,\r\n          digitalRepresentation: digitalRep,\r\n          platforms: platform,\r\n          online: onlineTime + whatTime,\r\n          thinking: thinkOften,\r\n          speech: speakPersona,\r\n          conduct: conductPersona,\r\n          version: versionPersona,\r\n          place: twoPlaces\r\n      }\r\n      firebase.database().ref('responses/' + 'user' + idNum).set(obj);\r\n    }\r\n    \r\n    function readUser() {\r\n      firebase.database().ref('responses').on('value',(snapshot)=>{\r\n          let temp = [];\r\n          if(snapshot.val() != null) {\r\n              for (const [key, value] of Object.entries(snapshot.val())) {\r\n                  temp[temp.length] = value;\r\n                }\r\n              setUsers(temp);\r\n              setIdNum(temp.length + RandomString());\r\n          }\r\n      })\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        // console.log(\"submitted\");\r\n        event.preventDefault();\r\n        writeUserData();\r\n        setConfirmed(true);\r\n        // window.location.href = process.env.PUBLIC_URL + \"/#/about\";\r\n    }\r\n\r\n    function goToAbout() {\r\n      window.location.href = process.env.PUBLIC_URL + \"/#/about\";\r\n      // console.log(\"print\");\r\n      window.location.reload();\r\n    }\r\n\r\n    // console.log(onlineTime + whatTime);\r\n    const Survey = () => {\r\n        return (\r\n          <Form onSubmit={(event)=>{handleSubmit(event)}}>\r\n            <FormGroup tag=\"fieldset\">\r\n              <Label className=\"question-title\">What is your age group?</Label>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio1\" id=\"q1-0\" value={ageGroups[0]} onClick={(event)=>{setAgeGroup(event.target.value)}}/>\r\n                  17 or lower\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio1\" id=\"q1-1\" value={ageGroups[1]} onClick={(event)=>{setAgeGroup(event.target.value)}}/>\r\n                  18 - 35\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio1\" id=\"q1-2\" value={ageGroups[2]} onClick={(event)=>{setAgeGroup(event.target.value)}}/>\r\n                  36 - 55\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio1\" id=\"q1-3\" value={ageGroups[3]} onClick={(event)=>{setAgeGroup(event.target.value)}}/>\r\n                  56 or older\r\n                </Label>\r\n              </FormGroup>\r\n            </FormGroup>\r\n\r\n            <br></br><br></br>\r\n            \r\n            <FormGroup tag=\"fieldset\">\r\n              <Label className=\"question-title\">What gender do you identify with?</Label>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-0\" value={genders[0]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Male\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-1\" value={genders[1]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Female\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-2\" value={genders[2]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Nonbinary\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-3\" value={genders[3]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Trans\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-4\" value={genders[4]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Genderqueer\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-5\" value={genders[5]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Agender\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-6\" value={genders[6]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Other\r\n                </Label>\r\n              </FormGroup>\r\n              <FormGroup check>\r\n                <Label check>\r\n                  <Input type=\"radio\" name=\"radio2\" id=\"q2-7\" value={genders[7]} onClick={(event)=>{setGenderIRL(event.target.value)}}/>\r\n                  Prefer Not to Answer\r\n                </Label>\r\n              </FormGroup>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">In your own words, please briefly describe what an <b>online persona</b> is.</Label>\r\n              <Input type=\"textarea\" name=\"text1\" id=\"q3\" \r\n                onChange={(event)=>{setDesPersona(event.target.value)}}\r\n              />\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">How many <b>online personas</b> do you think you have?</Label>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"number1\"\r\n                id=\"q4\"\r\n                onChange={(event)=>{setNumPersona(event.target.value)}}\r\n              />\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">What gender(s) does your <b>online persona(s)</b> identify with?</Label>\r\n              <div>\r\n                <CustomInput type=\"checkbox\" id=\"q5-0\" label=\"Male\" \r\n                  value={genders[0]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,0,event.target.value)}}\r\n                />\r\n                <CustomInput type=\"checkbox\" id=\"q5-1\" label=\"Female\"\r\n                  value={genders[1]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,1,event.target.value)}}\r\n                />\r\n                <CustomInput type=\"checkbox\" id=\"q5-2\" label=\"Nonbinary\"\r\n                  value={genders[2]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,2,event.target.value)}}\r\n                />\r\n                <CustomInput type=\"checkbox\" id=\"q5-3\" label=\"Trans\"\r\n                  value={genders[3]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,3,event.target.value)}}\r\n                />\r\n                <CustomInput type=\"checkbox\" id=\"q5-4\" label=\"Genderqueer\" \r\n                  value={genders[4]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,4,event.target.value)}}\r\n                />\r\n                <CustomInput type=\"checkbox\" id=\"q5-5\" label=\"Agender\"\r\n                  value={genders[5]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,5,event.target.value)}}\r\n                />\r\n                <CustomInput type=\"checkbox\" id=\"q5-6\" label=\"Other\"\r\n                  value={genders[6]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,6,event.target.value)}}\r\n                />\r\n                <CustomInput type=\"checkbox\" id=\"q5-7\" label=\"Prefer Not to Answer\"\r\n                  value={genders[7]} onClick={(event)=>{changeValue(event.target.checked,genderPersona,7,event.target.value)}}\r\n                />\r\n              </div>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">How much do you view your <b>online persona(s)</b> as something more than a digital representation?</Label>\r\n              <CustomInput type=\"range\" id=\"q6\" name=\"range1\" \r\n                min={0}\r\n                max={10}\r\n                step={1}\r\n                defaultValue={5}\r\n                onChange={(event)=>{setDigitalRep(event.target.value)}}\r\n              />\r\n              <h1 className=\"numeric-rep\">{digitalRep}</h1>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">On what online platforms, or \"digital ecosystems\", does your <b>online persona(s)</b> exist? (social media, video games, text, forums, video etc.) Be specific.</Label>\r\n              <Input type=\"textarea\" name=\"text2\" id=\"q7\" \r\n                onChange={(event)=>{setPlatform(event.target.value)}}\r\n              />\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">Generally, how often do you stay online per day as your <b>online persona(s)</b>?</Label>\r\n              <div>\r\n                <CustomInput type=\"number\" id=\"q8-0\" min=\"0\" placeholder=\"number\" onChange={(event)=>{setOnlineTime(Math.abs(event.target.value))}} inline />{' '}\r\n                <CustomInput type=\"radio\" id=\"q8-1\" name=\"radio3\" label=\"Seconds\" value=\"sec\" onClick={(event)=>{setWhatTime(event.target.value)}} inline />\r\n                <CustomInput type=\"radio\" id=\"q8-2\" name=\"radio3\" label=\"Minutes\" value=\"min\" onClick={(event)=>{setWhatTime(event.target.value)}} inline />\r\n                <CustomInput type=\"radio\" id=\"q8-3\" name=\"radio3\" label=\"Hours\" value=\"hr\" onClick={(event)=>{setWhatTime(event.target.value)}} inline />\r\n              </div>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">When you're offline, how often do you think of your <b>online persona(s)</b>? (0=never,10=all the time)</Label>\r\n              <CustomInput type=\"range\" id=\"q9\" name=\"range2\" \r\n                min={0}\r\n                max={10}\r\n                step={1}\r\n                defaultValue={5}\r\n                onChange={(event)=>{setThinkOften(event.target.value)}}\r\n              />\r\n              <h1 className=\"numeric-rep\">{thinkOften}</h1>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">Does your <b>online persona(s)</b> have a different way of speaking than you?</Label>\r\n              <div>\r\n                <CustomInput type=\"radio\" id=\"q10-0\" name=\"radio4\" label=\"Yes\" onClick={()=>{setSpeakPersona(true)}}/>\r\n                <CustomInput type=\"radio\" id=\"q10-1\" name=\"radio4\" label=\"No\" onClick={()=>{setSpeakPersona(false)}}/>\r\n              </div>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">In one or two words, how does your <b>online persona(s)</b> conduct themselves when communicating or interacting with others?</Label>\r\n              <Input type=\"textarea\" name=\"text3\" id=\"q11\" \r\n                onChange={(event)=>{setConductPersona(event.target.value)}}\r\n              />\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">Overall, is your <b>online persona(s)</b>:</Label>\r\n              <div>\r\n                <CustomInput type=\"radio\" id=\"q12-0\" name=\"radio5\" label=\"A more ideal version of you \" onClick={()=>{setVersionPersona(\"more\")}}/>\r\n                <CustomInput type=\"radio\" id=\"q12-1\" name=\"radio5\" label=\"Nearly identical to you\" onClick={()=>{setVersionPersona(\"same\")}}/>\r\n                <CustomInput type=\"radio\" id=\"q12-2\" name=\"radio5\" label=\"A lesser version of you\" onClick={()=>{setVersionPersona(\"lesser\")}}/>\r\n              </div>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <FormGroup>\r\n              <Label className=\"question-title\">Do you ever feel like you are in two different places at once when you are online?</Label>\r\n              <div>\r\n                <CustomInput type=\"radio\" id=\"q13-0\" name=\"radio6\" label=\"Yes\" onClick={()=>{setTwoPlaces(true)}}/>\r\n                <CustomInput type=\"radio\" id=\"q13-1\" name=\"radio6\" label=\"No\" onClick={()=>{setTwoPlaces(false)}}/>\r\n              </div>\r\n            </FormGroup>\r\n            <br></br><br></br>\r\n            <Button>Submit</Button>\r\n          </Form>\r\n        );\r\n      }\r\n    return (\r\n        <div className=\"form\">\r\n            {/* {users && users.map((stuff,index)=>(\r\n                <h1 key={index}> \r\n                    {stuff.age}\r\n                </h1>\r\n            ))} */}\r\n\r\n            <div className=\"form-header\">\r\n                <h1>Online <b style={{color: \"#9900ff\"}}>Persona</b></h1>\r\n                <div className=\"form-description\">\r\n                  Take your time filling out this form. After the form has been filled out completely, please click on the Submit button at the bottom of the page.\r\n                </div>\r\n                <nav><Link to=\"/\">HOME</Link> | <Link to=\"/form\">TAKE THE SURVEY</Link> | <Link to=\"/about\">ABOUT</Link></nav>\r\n            </div>\r\n            <div className=\"form-questions\">\r\n              {!confirmed && Survey()}\r\n              {confirmed && <Result age={ageGroup} \r\n                gen={genderIRL} \r\n                genPer={genderPersona.objects} \r\n                think={thinkOften} \r\n                speech={speakPersona}\r\n                numOfPer={numPersona}\r\n                digitalR={digitalRep}\r\n                place={twoPlaces}\r\n                ver={versionPersona}\r\n                goToAbout={goToAbout}\r\n              />}\r\n              \r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Result = ({age,gen,genPer,think,speech,numOfPer,digitalR,place,ver,goToAbout}) => {\r\n  const Sketch = p5 => {\r\n    var cnv;\r\n    let gXrange;\r\n    let gYrange;\r\n    let size = 30; //Is not adujusted for mobile\r\n    \r\n    p5.setup = () => {\r\n      cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\r\n      var xPos = (p5.windowWidth - p5.width) / 2;\r\n      var yPos = (p5.windowHeight - p5.height) / 2;\r\n      cnv.position(xPos, yPos);\r\n      p5.noStroke();\r\n      p5.background(254,222,168);\r\n      // console.log(genPer[0].val);\r\n\r\n      var width = p5.windowWidth;\r\n      var height = p5.windowHeight;\r\n\r\n      //Grid\r\n      p5.push();\r\n      p5.rectMode(p5.CENTER);\r\n      p5.strokeWeight(4);\r\n      p5.stroke(0);\r\n      p5.rect(width/2, height/2, 0, height-size);\r\n      p5.rect(width/2, height/2, p5.dist(width/2,size,width/2,height-size), 0);\r\n      p5.pop();\r\n\r\n      gXrange = [width/2-p5.dist(width/2,size,width/2,height/2),width/2+p5.dist(width/2,size,width/2,height/2)];\r\n      gYrange = [size, height-size];\r\n\r\n      p5.push();\r\n      p5.fill(0);\r\n      p5.textSize(size);\r\n      p5.textAlign(p5.RIGHT, p5.CENTER);\r\n      p5.text('MASK',width/2-p5.dist(width/2,size,width/2,height/2), height/2);\r\n      p5.text('SPIRITUAL ',width/2,size);\r\n      p5.textAlign(p5.LEFT, p5.CENTER);\r\n      p5.text('MIRROR',width/2+p5.dist(width/2,size,width/2,height/2), height/2);\r\n      p5.text(' SECULAR',width/2,height-size);\r\n      p5.textAlign(p5.LEFT, p5.TOP);\r\n      p5.pop();\r\n\r\n      let x = 0;\r\n      let y = 0;\r\n      let color = p5.color(0,0,0);\r\n\r\n      if(age == 'youth'){\r\n        color = p5.color(157,7,7);\r\n      }else if(age == 'young adult'){\r\n        color = p5.color(18,153,221);\r\n      }else if(age == 'middle age'){\r\n        color = p5.color(184,205,88);\r\n      }else if(age == 'older age'){\r\n        color = p5.color(222,114,43);\r\n      }\r\n\r\n      let genderNum = 0;\r\n      let isGenderSame = false;\r\n      for(var g=0; g<genPer.length; g++){\r\n        if(genPer[g].val != \"\"){\r\n          genderNum++;\r\n        }\r\n        if(genPer[g].val == gen){\r\n          isGenderSame = true;\r\n        }\r\n      }\r\n\r\n      if(genderNum > 1){\r\n        x-=1;\r\n      }else if(genderNum==1 && isGenderSame){\r\n        x+=1;\r\n      }\r\n\r\n      let thinkAmount = 0;\r\n      if(think >= 5){\r\n        thinkAmount = p5.abs(p5.map(think,5,10,1,6));\r\n        if(thinkAmount == 6){\r\n          thinkAmount = 5;\r\n        }\r\n        x+=thinkAmount;\r\n      }else{\r\n        thinkAmount = p5.abs(p5.map(think,0,4,5,1));\r\n        x-=thinkAmount;\r\n      }\r\n\r\n      if(speech){\r\n        x+=2;\r\n      }else{\r\n        x-=2;\r\n      }\r\n\r\n      if(numOfPer > 1){\r\n        y+=1;\r\n      }else if(numOfPer <= 1){\r\n        y-=1;\r\n      }\r\n\r\n      let digiRep = 0;\r\n      if(digitalR >= 5){\r\n        digiRep = p5.abs(p5.map(digitalR,5,10,1,6));\r\n        if(digiRep == 6){\r\n          digiRep = 5;\r\n        }\r\n        y+=digiRep;\r\n      }else{\r\n        digiRep = p5.abs(p5.map(digitalR,0,4,5,1));\r\n        y-=digiRep;\r\n      }\r\n\r\n      if(place){\r\n        y+=2;\r\n      }else{\r\n        y-=2;\r\n      }\r\n\r\n      if(ver == 'same'){\r\n        y-=2;\r\n        x+=2;\r\n      }else if(ver == ''){\r\n        y+=0;\r\n        x+=0;\r\n      }else{\r\n        y+=2;\r\n        x-=2;\r\n      }\r\n\r\n      p5.fill(color);\r\n      let mapX = p5.map(x,-10,10,gXrange[0],gXrange[1]);\r\n      let mapY = p5.map(y,-10,10,gYrange[0],gYrange[1]);\r\n      p5.ellipse(mapX,mapY,size,size);\r\n      p5.textAlign(p5.LEFT,p5.TOP);\r\n      p5.textSize(size);\r\n      p5.text(\"Your Result on the Compass!\",10,10,400,100);\r\n      // p5.noFill();\r\n      // p5.stroke(0);\r\n      // p5.strokeWeight(5);\r\n      // p5.rect(0,0,300,100);\r\n      let button;\r\n      button = p5.createButton('About');\r\n      button.position(10, 40);\r\n      button.mousePressed(goToAbout);\r\n    };\r\n  };\r\n  \r\n  useEffect(() => {\r\n   new p5(Sketch);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  return (\r\n    <></>\r\n  );\r\n };","import React,{useEffect} from \"react\";\r\nimport * as p5 from \"p5\";\r\nimport * as firebase from 'firebase';\r\n\r\nconst CompassSketch = props => {\r\n  function GoHome() {\r\n    window.location.href = process.env.PUBLIC_URL + \"/#/home\";\r\n    window.location.reload();\r\n  }\r\n\r\n  const Sketch = p5 => {\r\n    var cnv;\r\n    var data;\r\n    // var dots = [];\r\n    var keys;\r\n    let gXrange;\r\n    let gYrange;\r\n    let size = 30; //Is not adujusted for mobile\r\n\r\n    const getData = (d) => {\r\n      // console.log(d.val());\r\n      data = d.val();\r\n      keys = Object.keys(data);\r\n      // console.log(keys);\r\n      for(var i=0;i<keys.length;i++){\r\n        var k = keys[i];\r\n        // var init = data[k].age;\r\n        // console.log(init);\r\n        let dot = new Dot(data[k]);\r\n        // dots[i] = dot;\r\n      }\r\n    }\r\n\r\n    const errData = (err) => {\r\n      console.log(\"Error!\" + err);\r\n    }\r\n\r\n    p5.setup = () => {\r\n      cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\r\n      var x = (p5.windowWidth - p5.width) / 2;\r\n      var y = (p5.windowHeight - p5.height) / 2;\r\n      cnv.position(x, y);\r\n      p5.noStroke();\r\n    };\r\n  \r\n    p5.draw = () => {\r\n      // p5.background(0);\r\n      p5.background(254,222,168);\r\n      var ref = firebase.database().ref('responses');\r\n      \r\n      var width = p5.windowWidth;\r\n      var height = p5.windowHeight;\r\n\r\n      //Grid\r\n      p5.push();\r\n      p5.rectMode(p5.CENTER);\r\n      p5.strokeWeight(4);\r\n      p5.stroke(0);\r\n      p5.rect(width/2, height/2, 0, height-size);\r\n      p5.rect(width/2, height/2, p5.dist(width/2,size,width/2,height-size), 0);\r\n      p5.pop();\r\n\r\n      //Points\r\n      /*p5.ellipse(width/2-p5.dist(width/2,size,width/2,height/2), height/2,size,size);\r\n      p5.ellipse(width/2, height/2,size,size);\r\n      p5.ellipse(width/2+p5.dist(width/2,size,width/2,height/2), height/2,size,size);\r\n      p5.ellipse(width/2,size,size,size);\r\n      p5.ellipse(width/2,height-size,size,size);*/\r\n\r\n      //Calculate Range for X and Y axis\r\n      gXrange = [width/2-p5.dist(width/2,size,width/2,height/2),width/2+p5.dist(width/2,size,width/2,height/2)];\r\n      //let mapX = p5.map(x,-10,10,xRange[0],xRange[1]);\r\n      gYrange = [size, height-size];\r\n      //let mapY = p5.map(y,-10,10,yRange[0],yRange[1]);\r\n\r\n      // console.log(gXrange[0]);\r\n\r\n      //Grid Text\r\n      p5.push();\r\n      p5.fill(0);\r\n      p5.textSize(size);\r\n      p5.textAlign(p5.RIGHT, p5.CENTER);\r\n      p5.text('MASK',width/2-p5.dist(width/2,size,width/2,height/2), height/2);\r\n      p5.text('SPIRITUAL ',width/2,size);\r\n      p5.textAlign(p5.LEFT, p5.CENTER);\r\n      p5.text('MIRROR',width/2+p5.dist(width/2,size,width/2,height/2), height/2);\r\n      p5.text(' SECULAR',width/2,height-size);\r\n      p5.textAlign(p5.LEFT, p5.TOP);\r\n      p5.pop();\r\n      \r\n      ref.on('value',getData,errData);\r\n      // console.log(dots.length);\r\n\r\n      let button;\r\n      button = p5.createButton('HOME');\r\n      button.position(width-80, height-40);\r\n      button.mousePressed(GoHome);\r\n    };\r\n\r\n    const Dot = (arr) => {\r\n      let x = 0;\r\n      let y = 0;\r\n      let color = p5.color(0,0,0);\r\n\r\n      if(arr.age == 'youth'){\r\n        color = p5.color(157,7,7);\r\n      }else if(arr.age == 'young adult'){\r\n        color = p5.color(18,153,221);\r\n      }else if(arr.age == 'middle age'){\r\n        color = p5.color(184,205,88);\r\n      }else if(arr.age == 'older age'){\r\n        color = p5.color(222,114,43);\r\n      }\r\n\r\n      let genderNum = 0;\r\n      let isGenderSame = false;\r\n      for(var g=0; g<arr.genderPersonas.objects.length; g++){\r\n        if(arr.genderPersonas.objects[g].val != \"\"){\r\n          genderNum++;\r\n        }\r\n        if(arr.genderPersonas.objects[g].val == arr.gender){\r\n          isGenderSame = true;\r\n        }\r\n      }\r\n\r\n      if(genderNum > 1){\r\n        x-=1;\r\n      }else if(genderNum==1 && isGenderSame){\r\n        x+=1;\r\n      }\r\n\r\n      let thinkAmount = 0;\r\n      if(arr.thinking >= 5){\r\n        thinkAmount = p5.abs(p5.map(arr.thinking,5,10,1,6));\r\n        if(thinkAmount == 6){\r\n          thinkAmount = 5;\r\n        }\r\n        x+=thinkAmount;\r\n      }else{\r\n        thinkAmount = p5.abs(p5.map(arr.thinking,0,4,5,1));\r\n        x-=thinkAmount;\r\n      }\r\n\r\n      if(arr.speech){\r\n        x+=2;\r\n      }else{\r\n        x-=2;\r\n      }\r\n\r\n      if(arr.numberOfPersona > 1){\r\n        y+=1;\r\n      }else if(arr.numberOfPersona <= 1){\r\n        y-=1;\r\n      }\r\n\r\n      let digiRep = 0;\r\n      if(arr.digitalRepresentation >= 5){\r\n        digiRep = p5.abs(p5.map(arr.digitalRepresentation,5,10,1,6));\r\n        if(digiRep == 6){\r\n          digiRep = 5;\r\n        }\r\n        y+=digiRep;\r\n      }else{\r\n        digiRep = p5.abs(p5.map(arr.digitalRepresentation,0,4,5,1));\r\n        y-=digiRep;\r\n      }\r\n\r\n      if(arr.place){\r\n        y+=2;\r\n      }else{\r\n        y-=2;\r\n      }\r\n\r\n      if(arr.version == 'same'){\r\n        y-=2;\r\n        x+=2;\r\n      }else if(arr.version == ''){\r\n        y+=0;\r\n        x+=0;\r\n      }else{\r\n        y+=2;\r\n        x-=2;\r\n      }\r\n\r\n\r\n      p5.fill(color);\r\n      let mapX = p5.map(x,-10,10,gXrange[0],gXrange[1]);\r\n      let mapY = p5.map(y,-10,10,gYrange[0],gYrange[1]);\r\n      p5.ellipse(mapX,mapY,size,size);\r\n      p5.fill(255);\r\n      p5.textAlign(p5.CENTER);\r\n      // let coord = p5.str(mapX) + p5.str(mapY);\r\n      // function getMapping(){\r\n      //   return coord;\r\n      // }\r\n      // p5.text(\"0\",mapX,mapY);\r\n    };\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n   new p5(Sketch);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  return (\r\n     <></>\r\n  );\r\n };\r\n  \r\n export default CompassSketch;\r\n","import React from 'react';\r\nimport CompassSketch from './CompassSketch.js';\r\nconst CompassPage = () => {\r\n return (\r\n   <CompassSketch/>\r\n );\r\n}\r\n \r\nexport default CompassPage;\r\n","import React,{useEffect} from \"react\";\r\nimport * as p5 from \"p5\";\r\nimport * as firebase from 'firebase';\r\n\r\nconst UserDefinedSketch = props => {\r\n  function GoHome() {\r\n    window.location.href = process.env.PUBLIC_URL + \"/#/home\";\r\n    window.location.reload();\r\n  }\r\n\r\n  const Sketch = p5 => {\r\n    var cnv;\r\n    var data;\r\n    var defs = [];\r\n    var keys;\r\n\r\n    var width;\r\n    var height;\r\n    var yScroll;\r\n    var defsToScoll = [];\r\n\r\n    const getData = (d) => {\r\n      // console.log(d.val());\r\n      data = d.val();\r\n      keys = Object.keys(data);\r\n      // console.log(keys);\r\n      for(var i=0;i<keys.length;i++){\r\n        var k = keys[i];\r\n        // var init = data[k].age;\r\n        // console.log(init);\r\n        // let definition = new Definition(data[k]);\r\n        let definition = data[k].describePersona;\r\n        defs[i] = definition;\r\n      }\r\n      defsToScoll = shuffle(defs);\r\n    }\r\n\r\n    const errData = (err) => {\r\n      console.log(\"Error!\" + err);\r\n    }\r\n\r\n    p5.setup = () => {\r\n      cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\r\n      var x = (p5.windowWidth - p5.width) / 2;\r\n      var y = (p5.windowHeight - p5.height) / 2;\r\n      cnv.position(x, y);\r\n      readDatabase();\r\n      // console.log(p5.windowHeight);\r\n      yScroll = p5.windowHeight;\r\n      // defsToScoll.push(defs[p5.random(0,defs.length)]);\r\n      // if(defsToScoll.includes(defs[0])){\r\n      //   console.log(true);\r\n      // }\r\n      // console.log(defsToScoll.length);\r\n    };\r\n  \r\n    p5.draw = () => {\r\n      p5.background(255);\r\n      \r\n      width = p5.windowWidth;\r\n      height = p5.windowHeight;\r\n\r\n      p5.push();\r\n      if(yScroll > -(height/2)*defsToScoll.length){\r\n        // console.log(yScroll);\r\n        yScroll-=2;\r\n      }else{\r\n        // console.log('fin');\r\n        // defs.splice(0,1);\r\n        yScroll = p5.windowHeight;\r\n      }\r\n      p5.translate(0,yScroll);\r\n      p5.textAlign(p5.LEFT,p5.TOP);\r\n      p5.textSize(45);\r\n      p5.fill(0);\r\n      // p5.text(defs[0],width-(width-50),0,width-50,height);\r\n      for(var i=0; i<defsToScoll.length; i++) {\r\n        p5.text(defsToScoll[i],width-(width-50),(height/2)*i,width-50,height);\r\n      }\r\n      p5.pop();\r\n\r\n      p5.push();\r\n      p5.strokeWeight(10);\r\n      p5.rect(width-(width-10),0,width-20,height-(height-90));\r\n      p5.textAlign(p5.LEFT,p5.TOP);\r\n      p5.textSize(55);\r\n      p5.text('Online Persona:',width-(width-20),height-(height-20),width);\r\n      p5.pop();\r\n\r\n      let button;\r\n      button = p5.createButton('HOME');\r\n      button.position(width-80, height-40);\r\n      button.mousePressed(GoHome);\r\n    };\r\n\r\n    const readDatabase = () => {\r\n      var ref = firebase.database().ref('responses');\r\n      ref.on('value',getData,errData);\r\n    };\r\n\r\n    const shuffle = (arr) => {\r\n      var array = arr;\r\n      var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n      while (0 !== currentIndex) {\r\n    \r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n    \r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n      }\r\n    \r\n      return array;\r\n    };\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n   new p5(Sketch);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n  return (\r\n     <></>\r\n  );\r\n };\r\n  \r\n export default UserDefinedSketch;\r\n","import React from 'react';\r\nimport UserDefinedSketch from './UserDefinedSketch.js';\r\nconst UserDefinedPage = () => {\r\n return (\r\n    <UserDefinedSketch/>\r\n );\r\n}\r\n \r\nexport default UserDefinedPage;\r\n","import {\r\n\tEventDispatcher,\r\n\tMOUSE,\r\n\tQuaternion,\r\n\tSpherical,\r\n\tTOUCH,\r\n\tVector2,\r\n\tVector3\r\n} from \"three\";\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one-finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n\r\nvar OrbitControls = function ( object, domElement ) {\r\n\r\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\r\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\r\n\r\n\tthis.object = object;\r\n\tthis.domElement = domElement;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\r\n\tthis.minAzimuthAngle = - Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = false;\r\n\tthis.dampingFactor = 0.05;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.panSpeed = 1.0;\r\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\r\n\r\n\t// Touch fingers\r\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().inverse();\r\n\r\n\t\tvar lastPosition = new Vector3();\r\n\t\tvar lastQuaternion = new Quaternion();\r\n\r\n\t\tvar twoPI = 2 * Math.PI;\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( scope.enableDamping ) {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\r\n\t\t\tvar min = scope.minAzimuthAngle;\r\n\t\t\tvar max = scope.maxAzimuthAngle;\r\n\r\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\r\n\r\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\r\n\r\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\r\n\r\n\t\t\t\tif ( min < max ) {\r\n\r\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\r\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\r\n\t\t\t\t\t\tMath.min( max, spherical.theta );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\t}\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = {\r\n\t\tNONE: - 1,\r\n\t\tROTATE: 0,\r\n\t\tDOLLY: 1,\r\n\t\tPAN: 2,\r\n\t\tTOUCH_ROTATE: 3,\r\n\t\tTOUCH_PAN: 4,\r\n\t\tTOUCH_DOLLY_PAN: 5,\r\n\t\tTOUCH_DOLLY_ROTATE: 6\r\n\t};\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new Spherical();\r\n\tvar sphericalDelta = new Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new Vector2();\r\n\tvar rotateEnd = new Vector2();\r\n\tvar rotateDelta = new Vector2();\r\n\r\n\tvar panStart = new Vector2();\r\n\tvar panEnd = new Vector2();\r\n\tvar panDelta = new Vector2();\r\n\r\n\tvar dollyStart = new Vector2();\r\n\tvar dollyEnd = new Vector2();\r\n\tvar dollyDelta = new Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tif ( scope.screenSpacePanning === true ) {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\r\n\t\t\t\tv.crossVectors( scope.object.up, v );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement;\r\n\r\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object.isPerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object.isOrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\tvar needsUpdate = false;\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tneedsUpdate = true;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( needsUpdate ) {\r\n\r\n\t\t\t// prevent the browser from scrolling on cursor keys\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tscope.update();\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanStart.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\trotateEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\r\n\r\n\t\tvar element = scope.domElement;\r\n\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\r\n\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\tif ( event.touches.length == 1 ) {\r\n\r\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\r\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\r\n\r\n\t\t\tpanEnd.set( x, y );\r\n\r\n\t\t}\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\r\n\r\n\t\tdollyOut( dollyDelta.y );\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyPan( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDollyRotate( event ) {\r\n\r\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\r\n\r\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( /*event*/ ) {\r\n\r\n\t\t// no-op\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onPointerDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseDown( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseMove( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onPointerUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.pointerType ) {\r\n\r\n\t\t\tcase 'mouse':\r\n\t\t\tcase 'pen':\r\n\t\t\t\tonMouseUp( event );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t// TODO touch\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\t// Prevent the browser from scrolling.\r\n\t\tevent.preventDefault();\r\n\r\n\t\t// Manually set the focus since calling preventDefault above\r\n\t\t// prevents the browser from setting it automatically.\r\n\r\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\r\n\r\n\t\tvar mouseAction;\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase 0:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tmouseAction = - 1;\r\n\r\n\t\t}\r\n\r\n\t\tswitch ( mouseAction ) {\r\n\r\n\t\t\tcase MOUSE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.ROTATE:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase MOUSE.PAN:\r\n\r\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\r\n\r\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\r\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\r\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\r\n\r\n\t\t\t\tswitch ( scope.touches.ONE ) {\r\n\r\n\t\t\t\t\tcase TOUCH.ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\r\n\t\t\t\tswitch ( scope.touches.TWO ) {\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\r\n\r\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\r\n\r\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault(); // prevent scrolling\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.TOUCH_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyPan( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchMoveDollyRotate( event );\r\n\r\n\t\t\t\tscope.update();\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// make sure element can receive keys.\r\n\r\n\tif ( scope.domElement.tabIndex === - 1 ) {\r\n\r\n\t\tscope.domElement.tabIndex = 0;\r\n\r\n\t}\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = OrbitControls;\r\n\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n// This is very similar to OrbitControls, another set of touch behavior\r\n//\r\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n//    Pan - left mouse, or arrow keys / touch: one-finger move\r\n\r\nvar MapControls = function ( object, domElement ) {\r\n\r\n\tOrbitControls.call( this, object, domElement );\r\n\r\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\r\n\r\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\r\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n\r\n\tthis.touches.ONE = TOUCH.PAN;\r\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\r\n\r\n};\r\n\r\nMapControls.prototype = Object.create( EventDispatcher.prototype );\r\nMapControls.prototype.constructor = MapControls;\r\n\r\nexport { OrbitControls, MapControls };","/**\r\n * dat-gui JavaScript Controller Library\r\n * http://code.google.com/p/dat-gui\r\n *\r\n * Copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nfunction ___$insertStyle( css ) {\r\n\r\n\tif ( ! css ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\tif ( typeof window === 'undefined' ) {\r\n\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n\tvar style = document.createElement( 'style' );\r\n\r\n\tstyle.setAttribute( 'type', 'text/css' );\r\n\tstyle.innerHTML = css;\r\n\tdocument.head.appendChild( style );\r\n\r\n\treturn css;\r\n\r\n}\r\n\r\nfunction colorToString( color, forceCSSHex ) {\r\n\r\n\tvar colorFormat = color.__state.conversionName.toString();\r\n\tvar r = Math.round( color.r );\r\n\tvar g = Math.round( color.g );\r\n\tvar b = Math.round( color.b );\r\n\tvar a = color.a;\r\n\tvar h = Math.round( color.h );\r\n\tvar s = color.s.toFixed( 1 );\r\n\tvar v = color.v.toFixed( 1 );\r\n\tif ( forceCSSHex || colorFormat === 'THREE_CHAR_HEX' || colorFormat === 'SIX_CHAR_HEX' ) {\r\n\r\n\t\tvar str = color.hex.toString( 16 );\r\n\t\twhile ( str.length < 6 ) {\r\n\r\n\t\t\tstr = '0' + str;\r\n\r\n\t\t}\r\n\t\treturn '#' + str;\r\n\r\n\t} else if ( colorFormat === 'CSS_RGB' ) {\r\n\r\n\t\treturn 'rgb(' + r + ',' + g + ',' + b + ')';\r\n\r\n\t} else if ( colorFormat === 'CSS_RGBA' ) {\r\n\r\n\t\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\r\n\r\n\t} else if ( colorFormat === 'HEX' ) {\r\n\r\n\t\treturn '0x' + color.hex.toString( 16 );\r\n\r\n\t} else if ( colorFormat === 'RGB_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ']';\r\n\r\n\t} else if ( colorFormat === 'RGBA_ARRAY' ) {\r\n\r\n\t\treturn '[' + r + ',' + g + ',' + b + ',' + a + ']';\r\n\r\n\t} else if ( colorFormat === 'RGB_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + '}';\r\n\r\n\t} else if ( colorFormat === 'RGBA_OBJ' ) {\r\n\r\n\t\treturn '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\r\n\r\n\t} else if ( colorFormat === 'HSV_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + '}';\r\n\r\n\t} else if ( colorFormat === 'HSVA_OBJ' ) {\r\n\r\n\t\treturn '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\r\n\r\n\t}\r\n\treturn 'unknown format';\r\n\r\n}\r\n\r\nvar ARR_EACH = Array.prototype.forEach;\r\nvar ARR_SLICE = Array.prototype.slice;\r\nvar Common = {\r\n\tBREAK: {},\r\n\textend: function extend( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( ! this.isUndefined( obj[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tdefaults: function defaults( target ) {\r\n\r\n\t\tthis.each( ARR_SLICE.call( arguments, 1 ), function ( obj ) {\r\n\r\n\t\t\tvar keys = this.isObject( obj ) ? Object.keys( obj ) : [];\r\n\t\t\tkeys.forEach( function ( key ) {\r\n\r\n\t\t\t\tif ( this.isUndefined( target[ key ] ) ) {\r\n\r\n\t\t\t\t\ttarget[ key ] = obj[ key ];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind( this ) );\r\n\r\n\t\t}, this );\r\n\t\treturn target;\r\n\r\n\t},\r\n\tcompose: function compose() {\r\n\r\n\t\tvar toCall = ARR_SLICE.call( arguments );\r\n\t\treturn function () {\r\n\r\n\t\t\tvar args = ARR_SLICE.call( arguments );\r\n\t\t\tfor ( var i = toCall.length - 1; i >= 0; i -- ) {\r\n\r\n\t\t\t\targs = [ toCall[ i ].apply( this, args ) ];\r\n\r\n\t\t\t}\r\n\t\t\treturn args[ 0 ];\r\n\r\n\t\t};\r\n\r\n\t},\r\n\teach: function each( obj, itr, scope ) {\r\n\r\n\t\tif ( ! obj ) {\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\t\tif ( ARR_EACH && obj.forEach && obj.forEach === ARR_EACH ) {\r\n\r\n\t\t\tobj.forEach( itr, scope );\r\n\r\n\t\t} else if ( obj.length === obj.length + 0 ) {\r\n\r\n\t\t\tvar key = void 0;\r\n\t\t\tvar l = void 0;\r\n\t\t\tfor ( key = 0, l = obj.length; key < l; key ++ ) {\r\n\r\n\t\t\t\tif ( key in obj && itr.call( scope, obj[ key ], key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tfor ( var _key in obj ) {\r\n\r\n\t\t\t\tif ( itr.call( scope, obj[ _key ], _key ) === this.BREAK ) {\r\n\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tdefer: function defer( fnc ) {\r\n\r\n\t\tsetTimeout( fnc, 0 );\r\n\r\n\t},\r\n\tdebounce: function debounce( func, threshold, callImmediately ) {\r\n\r\n\t\tvar timeout = void 0;\r\n\t\treturn function () {\r\n\r\n\t\t\tvar obj = this;\r\n\t\t\tvar args = arguments;\r\n\t\t\tfunction delayed() {\r\n\r\n\t\t\t\ttimeout = null;\r\n\t\t\t\tif ( ! callImmediately ) func.apply( obj, args );\r\n\r\n\t\t\t}\r\n\t\t\tvar callNow = callImmediately || ! timeout;\r\n\t\t\tclearTimeout( timeout );\r\n\t\t\ttimeout = setTimeout( delayed, threshold );\r\n\t\t\tif ( callNow ) {\r\n\r\n\t\t\t\tfunc.apply( obj, args );\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t},\r\n\ttoArray: function toArray( obj ) {\r\n\r\n\t\tif ( obj.toArray ) return obj.toArray();\r\n\t\treturn ARR_SLICE.call( obj );\r\n\r\n\t},\r\n\tisUndefined: function isUndefined( obj ) {\r\n\r\n\t\treturn obj === undefined;\r\n\r\n\t},\r\n\tisNull: function isNull( obj ) {\r\n\r\n\t\treturn obj === null;\r\n\r\n\t},\r\n\tisNaN: function ( _isNaN ) {\r\n\r\n\t\tfunction isNaN() {\r\n\r\n\t\t\treturn _isNaN.apply( this, arguments );\r\n\r\n\t\t}\r\n\t\tisNaN.toString = function () {\r\n\r\n\t\t\treturn _isNaN.toString();\r\n\r\n\t\t};\r\n\t\treturn isNaN;\r\n\r\n\t}( function ( obj ) {\r\n\r\n\t\treturn isNaN( obj );\r\n\r\n\t} ),\r\n\tisArray: Array.isArray || function ( obj ) {\r\n\r\n\t\treturn obj.constructor === Array;\r\n\r\n\t},\r\n\tisObject: function isObject( obj ) {\r\n\r\n\t\treturn obj === Object( obj );\r\n\r\n\t},\r\n\tisNumber: function isNumber( obj ) {\r\n\r\n\t\treturn obj === obj + 0;\r\n\r\n\t},\r\n\tisString: function isString( obj ) {\r\n\r\n\t\treturn obj === obj + '';\r\n\r\n\t},\r\n\tisBoolean: function isBoolean( obj ) {\r\n\r\n\t\treturn obj === false || obj === true;\r\n\r\n\t},\r\n\tisFunction: function isFunction( obj ) {\r\n\r\n\t\treturn obj instanceof Function;\r\n\r\n\t}\r\n};\r\n\r\nvar INTERPRETATIONS = [\r\n\t{\r\n\t\tlitmus: Common.isString,\r\n\t\tconversions: {\r\n\t\t\tTHREE_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9])([A-F0-9])([A-F0-9])$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString() + test[ 1 ].toString() + test[ 2 ].toString() + test[ 2 ].toString() + test[ 3 ].toString() + test[ 3 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tSIX_CHAR_HEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^#([A-F0-9]{6})$/i );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: parseInt( '0x' + test[ 1 ].toString(), 0 )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGB: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t},\r\n\t\t\tCSS_RGBA: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tvar test = original.match( /^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/ );\r\n\t\t\t\t\tif ( test === null ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: parseFloat( test[ 1 ] ),\r\n\t\t\t\t\t\tg: parseFloat( test[ 2 ] ),\r\n\t\t\t\t\t\tb: parseFloat( test[ 3 ] ),\r\n\t\t\t\t\t\ta: parseFloat( test[ 4 ] )\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: colorToString\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isNumber,\r\n\t\tconversions: {\r\n\t\t\tHEX: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'HEX',\r\n\t\t\t\t\t\thex: original,\r\n\t\t\t\t\t\tconversionName: 'HEX'\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn color.hex;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isArray,\r\n\t\tconversions: {\r\n\t\t\tRGB_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 3 ) {\r\n\r\n\t\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b ];\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGBA_ARRAY: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( original.length !== 4 ) return false;\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\tr: original[ 0 ],\r\n\t\t\t\t\t\tg: original[ 1 ],\r\n\t\t\t\t\t\tb: original[ 2 ],\r\n\t\t\t\t\t\ta: original[ 3 ]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn [ color.r, color.g, color.b, color.a ];\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tlitmus: Common.isObject,\r\n\t\tconversions: {\r\n\t\t\tRGBA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tRGB_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.r ) && Common.isNumber( original.g ) && Common.isNumber( original.b ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'RGB',\r\n\t\t\t\t\t\t\tr: original.r,\r\n\t\t\t\t\t\t\tg: original.g,\r\n\t\t\t\t\t\t\tb: original.b\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tr: color.r,\r\n\t\t\t\t\t\tg: color.g,\r\n\t\t\t\t\t\tb: color.b\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSVA_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) && Common.isNumber( original.a ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v,\r\n\t\t\t\t\t\t\ta: original.a\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v,\r\n\t\t\t\t\t\ta: color.a\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tHSV_OBJ: {\r\n\t\t\t\tread: function read( original ) {\r\n\r\n\t\t\t\t\tif ( Common.isNumber( original.h ) && Common.isNumber( original.s ) && Common.isNumber( original.v ) ) {\r\n\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tspace: 'HSV',\r\n\t\t\t\t\t\t\th: original.h,\r\n\t\t\t\t\t\t\ts: original.s,\r\n\t\t\t\t\t\t\tv: original.v\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t},\r\n\t\t\t\twrite: function write( color ) {\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\th: color.h,\r\n\t\t\t\t\t\ts: color.s,\r\n\t\t\t\t\t\tv: color.v\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} ];\r\nvar result = void 0;\r\nvar toReturn = void 0;\r\nvar interpret = function interpret() {\r\n\r\n\ttoReturn = false;\r\n\tvar original = arguments.length > 1 ? Common.toArray( arguments ) : arguments[ 0 ];\r\n\tCommon.each( INTERPRETATIONS, function ( family ) {\r\n\r\n\t\tif ( family.litmus( original ) ) {\r\n\r\n\t\t\tCommon.each( family.conversions, function ( conversion, conversionName ) {\r\n\r\n\t\t\t\tresult = conversion.read( original );\r\n\t\t\t\tif ( toReturn === false && result !== false ) {\r\n\r\n\t\t\t\t\ttoReturn = result;\r\n\t\t\t\t\tresult.conversionName = conversionName;\r\n\t\t\t\t\tresult.conversion = conversion;\r\n\t\t\t\t\treturn Common.BREAK;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\treturn Common.BREAK;\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n};\r\n\r\nvar tmpComponent = void 0;\r\nvar ColorMath = {\r\n\thsv_to_rgb: function hsv_to_rgb( h, s, v ) {\r\n\r\n\t\tvar hi = Math.floor( h / 60 ) % 6;\r\n\t\tvar f = h / 60 - Math.floor( h / 60 );\r\n\t\tvar p = v * ( 1.0 - s );\r\n\t\tvar q = v * ( 1.0 - f * s );\r\n\t\tvar t = v * ( 1.0 - ( 1.0 - f ) * s );\r\n\t\tvar c = [[ v, t, p ], [ q, v, p ], [ p, v, t ], [ p, q, v ], [ t, p, v ], [ v, p, q ]][ hi ];\r\n\t\treturn {\r\n\t\t\tr: c[ 0 ] * 255,\r\n\t\t\tg: c[ 1 ] * 255,\r\n\t\t\tb: c[ 2 ] * 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hsv: function rgb_to_hsv( r, g, b ) {\r\n\r\n\t\tvar min = Math.min( r, g, b );\r\n\t\tvar max = Math.max( r, g, b );\r\n\t\tvar delta = max - min;\r\n\t\tvar h = void 0;\r\n\t\tvar s = void 0;\r\n\t\tif ( max !== 0 ) {\r\n\r\n\t\t\ts = delta / max;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn {\r\n\t\t\t\th: NaN,\r\n\t\t\t\ts: 0,\r\n\t\t\t\tv: 0\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t\tif ( r === max ) {\r\n\r\n\t\t\th = ( g - b ) / delta;\r\n\r\n\t\t} else if ( g === max ) {\r\n\r\n\t\t\th = 2 + ( b - r ) / delta;\r\n\r\n\t\t} else {\r\n\r\n\t\t\th = 4 + ( r - g ) / delta;\r\n\r\n\t\t}\r\n\t\th /= 6;\r\n\t\tif ( h < 0 ) {\r\n\r\n\t\t\th += 1;\r\n\r\n\t\t}\r\n\t\treturn {\r\n\t\t\th: h * 360,\r\n\t\t\ts: s,\r\n\t\t\tv: max / 255\r\n\t\t};\r\n\r\n\t},\r\n\trgb_to_hex: function rgb_to_hex( r, g, b ) {\r\n\r\n\t\tvar hex = this.hex_with_component( 0, 2, r );\r\n\t\thex = this.hex_with_component( hex, 1, g );\r\n\t\thex = this.hex_with_component( hex, 0, b );\r\n\t\treturn hex;\r\n\r\n\t},\r\n\tcomponent_from_hex: function component_from_hex( hex, componentIndex ) {\r\n\r\n\t\treturn hex >> componentIndex * 8 & 0xFF;\r\n\r\n\t},\r\n\thex_with_component: function hex_with_component( hex, componentIndex, value ) {\r\n\r\n\t\treturn value << ( tmpComponent = componentIndex * 8 ) | hex & ~ ( 0xFF << tmpComponent );\r\n\r\n\t}\r\n};\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function ( obj ) {\r\n\r\n\treturn typeof obj;\r\n\r\n} : function ( obj ) {\r\n\r\n\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar classCallCheck = function ( instance, Constructor ) {\r\n\r\n\tif ( ! ( instance instanceof Constructor ) ) {\r\n\r\n\t\tthrow new TypeError( \"Cannot call a class as a function\" );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar createClass = function () {\r\n\r\n\tfunction defineProperties( target, props ) {\r\n\r\n\t\tfor ( var i = 0; i < props.length; i ++ ) {\r\n\r\n\t\t\tvar descriptor = props[ i ];\r\n\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\r\n\t\t\tdescriptor.configurable = true;\r\n\t\t\tif ( \"value\" in descriptor ) descriptor.writable = true;\r\n\t\t\tObject.defineProperty( target, descriptor.key, descriptor );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn function ( Constructor, protoProps, staticProps ) {\r\n\r\n\t\tif ( protoProps ) defineProperties( Constructor.prototype, protoProps );\r\n\t\tif ( staticProps ) defineProperties( Constructor, staticProps );\r\n\t\treturn Constructor;\r\n\r\n\t};\r\n\r\n}();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar get = function get( object, property, receiver ) {\r\n\r\n\tif ( object === null ) object = Function.prototype;\r\n\tvar desc = Object.getOwnPropertyDescriptor( object, property );\r\n\r\n\tif ( desc === undefined ) {\r\n\r\n\t\tvar parent = Object.getPrototypeOf( object );\r\n\r\n\t\tif ( parent === null ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t} else {\r\n\r\n\t\t\treturn get( parent, property, receiver );\r\n\r\n\t\t}\r\n\r\n\t} else if ( \"value\" in desc ) {\r\n\r\n\t\treturn desc.value;\r\n\r\n\t} else {\r\n\r\n\t\tvar getter = desc.get;\r\n\r\n\t\tif ( getter === undefined ) {\r\n\r\n\t\t\treturn undefined;\r\n\r\n\t\t}\r\n\r\n\t\treturn getter.call( receiver );\r\n\r\n\t}\r\n\r\n};\r\n\r\nvar inherits = function ( subClass, superClass ) {\r\n\r\n\tif ( typeof superClass !== \"function\" && superClass !== null ) {\r\n\r\n\t\tthrow new TypeError( \"Super expression must either be null or a function, not \" + typeof superClass );\r\n\r\n\t}\r\n\r\n\tsubClass.prototype = Object.create( superClass && superClass.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: subClass,\r\n\t\t\tenumerable: false,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t} );\r\n\tif ( superClass ) Object.setPrototypeOf ? Object.setPrototypeOf( subClass, superClass ) : subClass.__proto__ = superClass;\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar possibleConstructorReturn = function ( self, call ) {\r\n\r\n\tif ( ! self ) {\r\n\r\n\t\tthrow new ReferenceError( \"this hasn't been initialised - super() hasn't been called\" );\r\n\r\n\t}\r\n\r\n\treturn call && ( typeof call === \"object\" || typeof call === \"function\" ) ? call : self;\r\n\r\n};\r\n\r\nvar Color = function () {\r\n\r\n\tfunction Color() {\r\n\r\n\t\tclassCallCheck( this, Color );\r\n\t\tthis.__state = interpret.apply( this, arguments );\r\n\t\tif ( this.__state === false ) {\r\n\r\n\t\t\tthrow new Error( 'Failed to interpret color arguments' );\r\n\r\n\t\t}\r\n\t\tthis.__state.a = this.__state.a || 1;\r\n\r\n\t}\r\n\tcreateClass( Color, [ {\r\n\t\tkey: 'toString',\r\n\t\tvalue: function toString() {\r\n\r\n\t\t\treturn colorToString( this );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toHexString',\r\n\t\tvalue: function toHexString() {\r\n\r\n\t\t\treturn colorToString( this, true );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'toOriginal',\r\n\t\tvalue: function toOriginal() {\r\n\r\n\t\t\treturn this.__state.conversion.write( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Color;\r\n\r\n}();\r\nfunction defineRGBComponent( target, component, componentHexIndex ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'RGB' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'RGB' ) {\r\n\r\n\t\t\t\tColor.recalculateRGB( this, component, componentHexIndex );\r\n\t\t\t\tthis.__state.space = 'RGB';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nfunction defineHSVComponent( target, component ) {\r\n\r\n\tObject.defineProperty( target, component, {\r\n\t\tget: function get$$1() {\r\n\r\n\t\t\tif ( this.__state.space === 'HSV' ) {\r\n\r\n\t\t\t\treturn this.__state[ component ];\r\n\r\n\t\t\t}\r\n\t\t\tColor.recalculateHSV( this );\r\n\t\t\treturn this.__state[ component ];\r\n\r\n\t\t},\r\n\t\tset: function set$$1( v ) {\r\n\r\n\t\t\tif ( this.__state.space !== 'HSV' ) {\r\n\r\n\t\t\t\tColor.recalculateHSV( this );\r\n\t\t\t\tthis.__state.space = 'HSV';\r\n\r\n\t\t\t}\r\n\t\t\tthis.__state[ component ] = v;\r\n\r\n\t\t}\r\n\t} );\r\n\r\n}\r\nColor.recalculateRGB = function ( color, component, componentHexIndex ) {\r\n\r\n\tif ( color.__state.space === 'HEX' ) {\r\n\r\n\t\tcolor.__state[ component ] = ColorMath.component_from_hex( color.__state.hex, componentHexIndex );\r\n\r\n\t} else if ( color.__state.space === 'HSV' ) {\r\n\r\n\t\tCommon.extend( color.__state, ColorMath.hsv_to_rgb( color.__state.h, color.__state.s, color.__state.v ) );\r\n\r\n\t} else {\r\n\r\n\t\tthrow new Error( 'Corrupted color state' );\r\n\r\n\t}\r\n\r\n};\r\nColor.recalculateHSV = function ( color ) {\r\n\r\n\tvar result = ColorMath.rgb_to_hsv( color.r, color.g, color.b );\r\n\tCommon.extend( color.__state, {\r\n\t\ts: result.s,\r\n\t\tv: result.v\r\n\t} );\r\n\tif ( ! Common.isNaN( result.h ) ) {\r\n\r\n\t\tcolor.__state.h = result.h;\r\n\r\n\t} else if ( Common.isUndefined( color.__state.h ) ) {\r\n\r\n\t\tcolor.__state.h = 0;\r\n\r\n\t}\r\n\r\n};\r\nColor.COMPONENTS = [ 'r', 'g', 'b', 'h', 's', 'v', 'hex', 'a' ];\r\ndefineRGBComponent( Color.prototype, 'r', 2 );\r\ndefineRGBComponent( Color.prototype, 'g', 1 );\r\ndefineRGBComponent( Color.prototype, 'b', 0 );\r\ndefineHSVComponent( Color.prototype, 'h' );\r\ndefineHSVComponent( Color.prototype, 's' );\r\ndefineHSVComponent( Color.prototype, 'v' );\r\nObject.defineProperty( Color.prototype, 'a', {\r\n\tget: function get$$1() {\r\n\r\n\t\treturn this.__state.a;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.a = v;\r\n\r\n\t}\r\n} );\r\nObject.defineProperty( Color.prototype, 'hex', {\r\n\tget: function get$$1() {\r\n\r\n\t\tif ( this.__state.space !== 'HEX' ) {\r\n\r\n\t\t\tthis.__state.hex = ColorMath.rgb_to_hex( this.r, this.g, this.b );\r\n\t\t\tthis.__state.space = 'HEX';\r\n\r\n\t\t}\r\n\t\treturn this.__state.hex;\r\n\r\n\t},\r\n\tset: function set$$1( v ) {\r\n\r\n\t\tthis.__state.space = 'HEX';\r\n\t\tthis.__state.hex = v;\r\n\r\n\t}\r\n} );\r\n\r\nvar Controller = function () {\r\n\r\n\tfunction Controller( object, property ) {\r\n\r\n\t\tclassCallCheck( this, Controller );\r\n\t\tthis.initialValue = object[ property ];\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tthis.object = object;\r\n\t\tthis.property = property;\r\n\t\tthis.__onChange = undefined;\r\n\t\tthis.__onFinishChange = undefined;\r\n\r\n\t}\r\n\tcreateClass( Controller, [ {\r\n\t\tkey: 'onChange',\r\n\t\tvalue: function onChange( fnc ) {\r\n\r\n\t\t\tthis.__onChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'onFinishChange',\r\n\t\tvalue: function onFinishChange( fnc ) {\r\n\r\n\t\t\tthis.__onFinishChange = fnc;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( newValue ) {\r\n\r\n\t\t\tthis.object[ this.property ] = newValue;\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this, newValue );\r\n\r\n\t\t\t}\r\n\t\t\tthis.updateDisplay();\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'getValue',\r\n\t\tvalue: function getValue() {\r\n\r\n\t\t\treturn this.object[ this.property ];\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'isModified',\r\n\t\tvalue: function isModified() {\r\n\r\n\t\t\treturn this.initialValue !== this.getValue();\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn Controller;\r\n\r\n}();\r\n\r\nvar EVENT_MAP = {\r\n\tHTMLEvents: [ 'change' ],\r\n\tMouseEvents: [ 'click', 'mousemove', 'mousedown', 'mouseup', 'mouseover' ],\r\n\tKeyboardEvents: [ 'keydown' ]\r\n};\r\nvar EVENT_MAP_INV = {};\r\nCommon.each( EVENT_MAP, function ( v, k ) {\r\n\r\n\tCommon.each( v, function ( e ) {\r\n\r\n\t\tEVENT_MAP_INV[ e ] = k;\r\n\r\n\t} );\r\n\r\n} );\r\nvar CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\r\nfunction cssValueToPixels( val ) {\r\n\r\n\tif ( val === '0' || Common.isUndefined( val ) ) {\r\n\r\n\t\treturn 0;\r\n\r\n\t}\r\n\tvar match = val.match( CSS_VALUE_PIXELS );\r\n\tif ( ! Common.isNull( match ) ) {\r\n\r\n\t\treturn parseFloat( match[ 1 ] );\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar dom = {\r\n\tmakeSelectable: function makeSelectable( elem, selectable ) {\r\n\r\n\t\tif ( elem === undefined || elem.style === undefined ) return;\r\n\t\telem.onselectstart = selectable ? function () {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t} : function () {};\r\n\t\telem.style.MozUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\r\n\t\telem.unselectable = selectable ? 'on' : 'off';\r\n\r\n\t},\r\n\tmakeFullscreen: function makeFullscreen( elem, hor, vert ) {\r\n\r\n\t\tvar vertical = vert;\r\n\t\tvar horizontal = hor;\r\n\t\tif ( Common.isUndefined( horizontal ) ) {\r\n\r\n\t\t\thorizontal = true;\r\n\r\n\t\t}\r\n\t\tif ( Common.isUndefined( vertical ) ) {\r\n\r\n\t\t\tvertical = true;\r\n\r\n\t\t}\r\n\t\telem.style.position = 'absolute';\r\n\t\tif ( horizontal ) {\r\n\r\n\t\t\telem.style.left = 0;\r\n\t\t\telem.style.right = 0;\r\n\r\n\t\t}\r\n\t\tif ( vertical ) {\r\n\r\n\t\t\telem.style.top = 0;\r\n\t\t\telem.style.bottom = 0;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\tfakeEvent: function fakeEvent( elem, eventType, pars, aux ) {\r\n\r\n\t\tvar params = pars || {};\r\n\t\tvar className = EVENT_MAP_INV[ eventType ];\r\n\t\tif ( ! className ) {\r\n\r\n\t\t\tthrow new Error( 'Event type ' + eventType + ' not supported.' );\r\n\r\n\t\t}\r\n\t\tvar evt = document.createEvent( className );\r\n\t\tswitch ( className ) {\r\n\r\n\t\t\tcase 'MouseEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar clientX = params.x || params.clientX || 0;\r\n\t\t\t\tvar clientY = params.y || params.clientY || 0;\r\n\t\t\t\tevt.initMouseEvent( eventType, params.bubbles || false, params.cancelable || true, window, params.clickCount || 1, 0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tclientX,\r\n\t\t\t\t\tclientY,\r\n\t\t\t\t\tfalse, false, false, false, 0, null );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tcase 'KeyboardEvents':\r\n\t\t\t{\r\n\r\n\t\t\t\tvar init = evt.initKeyboardEvent || evt.initKeyEvent;\r\n\t\t\t\tCommon.defaults( params, {\r\n\t\t\t\t\tcancelable: true,\r\n\t\t\t\t\tctrlKey: false,\r\n\t\t\t\t\taltKey: false,\r\n\t\t\t\t\tshiftKey: false,\r\n\t\t\t\t\tmetaKey: false,\r\n\t\t\t\t\tkeyCode: undefined,\r\n\t\t\t\t\tcharCode: undefined\r\n\t\t\t\t} );\r\n\t\t\t\tinit( eventType, params.bubbles || false, params.cancelable, window, params.ctrlKey, params.altKey, params.shiftKey, params.metaKey, params.keyCode, params.charCode );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t{\r\n\r\n\t\t\t\tevt.initEvent( eventType, params.bubbles || false, params.cancelable || true );\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tCommon.defaults( evt, aux );\r\n\t\telem.dispatchEvent( evt );\r\n\r\n\t},\r\n\tbind: function bind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.addEventListener ) {\r\n\r\n\t\t\telem.addEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.attachEvent ) {\r\n\r\n\t\t\telem.attachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tunbind: function unbind( elem, event, func, newBool ) {\r\n\r\n\t\tvar bool = newBool || false;\r\n\t\tif ( elem.removeEventListener ) {\r\n\r\n\t\t\telem.removeEventListener( event, func, bool );\r\n\r\n\t\t} else if ( elem.detachEvent ) {\r\n\r\n\t\t\telem.detachEvent( 'on' + event, func );\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\taddClass: function addClass( elem, className ) {\r\n\r\n\t\tif ( elem.className === undefined ) {\r\n\r\n\t\t\telem.className = className;\r\n\r\n\t\t} else if ( elem.className !== className ) {\r\n\r\n\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\tif ( classes.indexOf( className ) === - 1 ) {\r\n\r\n\t\t\t\tclasses.push( className );\r\n\t\t\t\telem.className = classes.join( ' ' ).replace( /^\\s+/, '' ).replace( /\\s+$/, '' );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\tremoveClass: function removeClass( elem, className ) {\r\n\r\n\t\tif ( className ) {\r\n\r\n\t\t\tif ( elem.className === className ) {\r\n\r\n\t\t\t\telem.removeAttribute( 'class' );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar classes = elem.className.split( / +/ );\r\n\t\t\t\tvar index = classes.indexOf( className );\r\n\t\t\t\tif ( index !== - 1 ) {\r\n\r\n\t\t\t\t\tclasses.splice( index, 1 );\r\n\t\t\t\t\telem.className = classes.join( ' ' );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\telem.className = undefined;\r\n\r\n\t\t}\r\n\t\treturn dom;\r\n\r\n\t},\r\n\thasClass: function hasClass( elem, className ) {\r\n\r\n\t\treturn new RegExp( '(?:^|\\\\s+)' + className + '(?:\\\\s+|$)' ).test( elem.className ) || false;\r\n\r\n\t},\r\n\tgetWidth: function getWidth( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-left-width' ] ) + cssValueToPixels( style[ 'border-right-width' ] ) + cssValueToPixels( style[ 'padding-left' ] ) + cssValueToPixels( style[ 'padding-right' ] ) + cssValueToPixels( style.width );\r\n\r\n\t},\r\n\tgetHeight: function getHeight( elem ) {\r\n\r\n\t\tvar style = getComputedStyle( elem );\r\n\t\treturn cssValueToPixels( style[ 'border-top-width' ] ) + cssValueToPixels( style[ 'border-bottom-width' ] ) + cssValueToPixels( style[ 'padding-top' ] ) + cssValueToPixels( style[ 'padding-bottom' ] ) + cssValueToPixels( style.height );\r\n\r\n\t},\r\n\tgetOffset: function getOffset( el ) {\r\n\r\n\t\tvar elem = el;\r\n\t\tvar offset = { left: 0, top: 0 };\r\n\t\tif ( elem.offsetParent ) {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\toffset.left += elem.offsetLeft;\r\n\t\t\t\toffset.top += elem.offsetTop;\r\n\t\t\t\telem = elem.offsetParent;\r\n\r\n\t\t\t} while ( elem );\r\n\r\n\t\t}\r\n\t\treturn offset;\r\n\r\n\t},\r\n\tisActive: function isActive( elem ) {\r\n\r\n\t\treturn elem === document.activeElement && ( elem.type || elem.href );\r\n\r\n\t}\r\n};\r\n\r\nvar BooleanController = function ( _Controller ) {\r\n\r\n\tinherits( BooleanController, _Controller );\r\n\tfunction BooleanController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, BooleanController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( BooleanController.__proto__ || Object.getPrototypeOf( BooleanController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__prev = _this2.getValue();\r\n\t\t_this2.__checkbox = document.createElement( 'input' );\r\n\t\t_this2.__checkbox.setAttribute( 'type', 'checkbox' );\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( ! _this.__prev );\r\n\r\n\t\t}\r\n\t\tdom.bind( _this2.__checkbox, 'change', onChange, false );\r\n\t\t_this2.domElement.appendChild( _this2.__checkbox );\r\n\t\t_this2.updateDisplay();\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( BooleanController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\tthis.__prev = this.getValue();\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( this.getValue() === true ) {\r\n\r\n\t\t\t\tthis.__checkbox.setAttribute( 'checked', 'checked' );\r\n\t\t\t\tthis.__checkbox.checked = true;\r\n\t\t\t\tthis.__prev = true;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.__checkbox.checked = false;\r\n\t\t\t\tthis.__prev = false;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( BooleanController.prototype.__proto__ || Object.getPrototypeOf( BooleanController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn BooleanController;\r\n\r\n}( Controller );\r\n\r\nvar OptionController = function ( _Controller ) {\r\n\r\n\tinherits( OptionController, _Controller );\r\n\tfunction OptionController( object, property, opts ) {\r\n\r\n\t\tclassCallCheck( this, OptionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( OptionController.__proto__ || Object.getPrototypeOf( OptionController ) ).call( this, object, property ) );\r\n\t\tvar options = opts;\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__select = document.createElement( 'select' );\r\n\t\tif ( Common.isArray( options ) ) {\r\n\r\n\t\t\tvar map = {};\r\n\t\t\tCommon.each( options, function ( element ) {\r\n\r\n\t\t\t\tmap[ element ] = element;\r\n\r\n\t\t\t} );\r\n\t\t\toptions = map;\r\n\r\n\t\t}\r\n\t\tCommon.each( options, function ( value, key ) {\r\n\r\n\t\t\tvar opt = document.createElement( 'option' );\r\n\t\t\topt.innerHTML = key;\r\n\t\t\topt.setAttribute( 'value', value );\r\n\t\t\t_this.__select.appendChild( opt );\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\tdom.bind( _this2.__select, 'change', function () {\r\n\r\n\t\t\tvar desiredValue = this.options[ this.selectedIndex ].value;\r\n\t\t\t_this.setValue( desiredValue );\r\n\r\n\t\t} );\r\n\t\t_this2.domElement.appendChild( _this2.__select );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( OptionController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar toReturn = get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'setValue', this ).call( this, v );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\t\t\treturn toReturn;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( dom.isActive( this.__select ) ) return this;\r\n\t\t\tthis.__select.value = this.getValue();\r\n\t\t\treturn get( OptionController.prototype.__proto__ || Object.getPrototypeOf( OptionController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn OptionController;\r\n\r\n}( Controller );\r\n\r\nvar StringController = function ( _Controller ) {\r\n\r\n\tinherits( StringController, _Controller );\r\n\tfunction StringController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, StringController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( StringController.__proto__ || Object.getPrototypeOf( StringController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\t_this.setValue( _this.__input.value );\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'keyup', onChange );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tthis.blur();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( StringController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tif ( ! dom.isActive( this.__input ) ) {\r\n\r\n\t\t\t\tthis.__input.value = this.getValue();\r\n\r\n\t\t\t}\r\n\t\t\treturn get( StringController.prototype.__proto__ || Object.getPrototypeOf( StringController.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn StringController;\r\n\r\n}( Controller );\r\n\r\nfunction numDecimals( x ) {\r\n\r\n\tvar _x = x.toString();\r\n\tif ( _x.indexOf( '.' ) > - 1 ) {\r\n\r\n\t\treturn _x.length - _x.indexOf( '.' ) - 1;\r\n\r\n\t}\r\n\treturn 0;\r\n\r\n}\r\nvar NumberController = function ( _Controller ) {\r\n\r\n\tinherits( NumberController, _Controller );\r\n\tfunction NumberController( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberController );\r\n\t\tvar _this = possibleConstructorReturn( this, ( NumberController.__proto__ || Object.getPrototypeOf( NumberController ) ).call( this, object, property ) );\r\n\t\tvar _params = params || {};\r\n\t\t_this.__min = _params.min;\r\n\t\t_this.__max = _params.max;\r\n\t\t_this.__step = _params.step;\r\n\t\tif ( Common.isUndefined( _this.__step ) ) {\r\n\r\n\t\t\tif ( _this.initialValue === 0 ) {\r\n\r\n\t\t\t\t_this.__impliedStep = 1;\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t_this.__impliedStep = Math.pow( 10, Math.floor( Math.log( Math.abs( _this.initialValue ) ) / Math.LN10 ) ) / 10;\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t_this.__impliedStep = _this.__step;\r\n\r\n\t\t}\r\n\t\t_this.__precision = numDecimals( _this.__impliedStep );\r\n\t\treturn _this;\r\n\r\n\t}\r\n\tcreateClass( NumberController, [ {\r\n\t\tkey: 'setValue',\r\n\t\tvalue: function setValue( v ) {\r\n\r\n\t\t\tvar _v = v;\r\n\t\t\tif ( this.__min !== undefined && _v < this.__min ) {\r\n\r\n\t\t\t\t_v = this.__min;\r\n\r\n\t\t\t} else if ( this.__max !== undefined && _v > this.__max ) {\r\n\r\n\t\t\t\t_v = this.__max;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.__step !== undefined && _v % this.__step !== 0 ) {\r\n\r\n\t\t\t\t_v = Math.round( _v / this.__step ) * this.__step;\r\n\r\n\t\t\t}\r\n\t\t\treturn get( NumberController.prototype.__proto__ || Object.getPrototypeOf( NumberController.prototype ), 'setValue', this ).call( this, _v );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'min',\r\n\t\tvalue: function min( minValue ) {\r\n\r\n\t\t\tthis.__min = minValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'max',\r\n\t\tvalue: function max( maxValue ) {\r\n\r\n\t\t\tthis.__max = maxValue;\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'step',\r\n\t\tvalue: function step( stepValue ) {\r\n\r\n\t\t\tthis.__step = stepValue;\r\n\t\t\tthis.__impliedStep = stepValue;\r\n\t\t\tthis.__precision = numDecimals( stepValue );\r\n\t\t\treturn this;\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberController;\r\n\r\n}( Controller );\r\n\r\nfunction roundToDecimal( value, decimals ) {\r\n\r\n\tvar tenTo = Math.pow( 10, decimals );\r\n\treturn Math.round( value * tenTo ) / tenTo;\r\n\r\n}\r\nvar NumberControllerBox = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerBox, _NumberController );\r\n\tfunction NumberControllerBox( object, property, params ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerBox );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerBox.__proto__ || Object.getPrototypeOf( NumberControllerBox ) ).call( this, object, property, params ) );\r\n\t\t_this2.__truncationSuspended = false;\r\n\t\tvar _this = _this2;\r\n\t\tvar prevY = void 0;\r\n\t\tfunction onChange() {\r\n\r\n\t\t\tvar attempted = parseFloat( _this.__input.value );\r\n\t\t\tif ( ! Common.isNaN( attempted ) ) {\r\n\r\n\t\t\t\t_this.setValue( attempted );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\tvar diff = prevY - e.clientY;\r\n\t\t\t_this.setValue( _this.getValue() + diff * _this.__impliedStep );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tprevY = e.clientY;\r\n\r\n\t\t}\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.setAttribute( 'type', 'text' );\r\n\t\tdom.bind( _this2.__input, 'change', onChange );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__input, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\t_this.__truncationSuspended = true;\r\n\t\t\t\tthis.blur();\r\n\t\t\t\t_this.__truncationSuspended = false;\r\n\t\t\t\tonFinish();\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerBox, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tthis.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal( this.getValue(), this.__precision );\r\n\t\t\treturn get( NumberControllerBox.prototype.__proto__ || Object.getPrototypeOf( NumberControllerBox.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerBox;\r\n\r\n}( NumberController );\r\n\r\nfunction map( v, i1, i2, o1, o2 ) {\r\n\r\n\treturn o1 + ( o2 - o1 ) * ( ( v - i1 ) / ( i2 - i1 ) );\r\n\r\n}\r\nvar NumberControllerSlider = function ( _NumberController ) {\r\n\r\n\tinherits( NumberControllerSlider, _NumberController );\r\n\tfunction NumberControllerSlider( object, property, min, max, step ) {\r\n\r\n\t\tclassCallCheck( this, NumberControllerSlider );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( NumberControllerSlider.__proto__ || Object.getPrototypeOf( NumberControllerSlider ) ).call( this, object, property, { min: min, max: max, step: step } ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__background = document.createElement( 'div' );\r\n\t\t_this2.__foreground = document.createElement( 'div' );\r\n\t\tdom.bind( _this2.__background, 'mousedown', onMouseDown );\r\n\t\tdom.bind( _this2.__background, 'touchstart', onTouchStart );\r\n\t\tdom.addClass( _this2.__background, 'slider' );\r\n\t\tdom.addClass( _this2.__foreground, 'slider-fg' );\r\n\t\tfunction onMouseDown( e ) {\r\n\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tdom.bind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.bind( window, 'mouseup', onMouseUp );\r\n\t\t\tonMouseDrag( e );\r\n\r\n\t\t}\r\n\t\tfunction onMouseDrag( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction onMouseUp() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', onMouseDrag );\r\n\t\t\tdom.unbind( window, 'mouseup', onMouseUp );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onTouchStart( e ) {\r\n\r\n\t\t\tif ( e.touches.length !== 1 ) {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tdom.bind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.bind( window, 'touchend', onTouchEnd );\r\n\t\t\tonTouchMove( e );\r\n\r\n\t\t}\r\n\t\tfunction onTouchMove( e ) {\r\n\r\n\t\t\tvar clientX = e.touches[ 0 ].clientX;\r\n\t\t\tvar bgRect = _this.__background.getBoundingClientRect();\r\n\t\t\t_this.setValue( map( clientX, bgRect.left, bgRect.right, _this.__min, _this.__max ) );\r\n\r\n\t\t}\r\n\t\tfunction onTouchEnd() {\r\n\r\n\t\t\tdom.unbind( window, 'touchmove', onTouchMove );\r\n\t\t\tdom.unbind( window, 'touchend', onTouchEnd );\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.updateDisplay();\r\n\t\t_this2.__background.appendChild( _this2.__foreground );\r\n\t\t_this2.domElement.appendChild( _this2.__background );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( NumberControllerSlider, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar pct = ( this.getValue() - this.__min ) / ( this.__max - this.__min );\r\n\t\t\tthis.__foreground.style.width = pct * 100 + '%';\r\n\t\t\treturn get( NumberControllerSlider.prototype.__proto__ || Object.getPrototypeOf( NumberControllerSlider.prototype ), 'updateDisplay', this ).call( this );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn NumberControllerSlider;\r\n\r\n}( NumberController );\r\n\r\nvar FunctionController = function ( _Controller ) {\r\n\r\n\tinherits( FunctionController, _Controller );\r\n\tfunction FunctionController( object, property, text ) {\r\n\r\n\t\tclassCallCheck( this, FunctionController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( FunctionController.__proto__ || Object.getPrototypeOf( FunctionController ) ).call( this, object, property ) );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.__button = document.createElement( 'div' );\r\n\t\t_this2.__button.innerHTML = text === undefined ? 'Fire' : text;\r\n\t\tdom.bind( _this2.__button, 'click', function ( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.fire();\r\n\t\t\treturn false;\r\n\r\n\t\t} );\r\n\t\tdom.addClass( _this2.__button, 'button' );\r\n\t\t_this2.domElement.appendChild( _this2.__button );\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( FunctionController, [ {\r\n\t\tkey: 'fire',\r\n\t\tvalue: function fire() {\r\n\r\n\t\t\tif ( this.__onChange ) {\r\n\r\n\t\t\t\tthis.__onChange.call( this );\r\n\r\n\t\t\t}\r\n\t\t\tthis.getValue().call( this.object );\r\n\t\t\tif ( this.__onFinishChange ) {\r\n\r\n\t\t\t\tthis.__onFinishChange.call( this, this.getValue() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn FunctionController;\r\n\r\n}( Controller );\r\n\r\nvar ColorController = function ( _Controller ) {\r\n\r\n\tinherits( ColorController, _Controller );\r\n\tfunction ColorController( object, property ) {\r\n\r\n\t\tclassCallCheck( this, ColorController );\r\n\t\tvar _this2 = possibleConstructorReturn( this, ( ColorController.__proto__ || Object.getPrototypeOf( ColorController ) ).call( this, object, property ) );\r\n\t\t_this2.__color = new Color( _this2.getValue() );\r\n\t\t_this2.__temp = new Color( 0 );\r\n\t\tvar _this = _this2;\r\n\t\t_this2.domElement = document.createElement( 'div' );\r\n\t\tdom.makeSelectable( _this2.domElement, false );\r\n\t\t_this2.__selector = document.createElement( 'div' );\r\n\t\t_this2.__selector.className = 'selector';\r\n\t\t_this2.__saturation_field = document.createElement( 'div' );\r\n\t\t_this2.__saturation_field.className = 'saturation-field';\r\n\t\t_this2.__field_knob = document.createElement( 'div' );\r\n\t\t_this2.__field_knob.className = 'field-knob';\r\n\t\t_this2.__field_knob_border = '2px solid ';\r\n\t\t_this2.__hue_knob = document.createElement( 'div' );\r\n\t\t_this2.__hue_knob.className = 'hue-knob';\r\n\t\t_this2.__hue_field = document.createElement( 'div' );\r\n\t\t_this2.__hue_field.className = 'hue-field';\r\n\t\t_this2.__input = document.createElement( 'input' );\r\n\t\t_this2.__input.type = 'text';\r\n\t\t_this2.__input_textShadow = '0 1px 1px ';\r\n\t\tdom.bind( _this2.__input, 'keydown', function ( e ) {\r\n\r\n\t\t\tif ( e.keyCode === 13 ) {\r\n\r\n\t\t\t\tonBlur.call( this );\r\n\r\n\t\t\t}\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__input, 'blur', onBlur );\r\n\t\tdom.bind( _this2.__selector, 'mousedown', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'mouseup', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tdom.bind( _this2.__selector, 'touchstart', function () {\r\n\r\n\t\t\tdom.addClass( this, 'drag' ).bind( window, 'touchend', function () {\r\n\r\n\t\t\t\tdom.removeClass( _this.__selector, 'drag' );\r\n\r\n\t\t\t} );\r\n\r\n\t\t} );\r\n\t\tvar valueField = document.createElement( 'div' );\r\n\t\tCommon.extend( _this2.__selector.style, {\r\n\t\t\twidth: '122px',\r\n\t\t\theight: '102px',\r\n\t\t\tpadding: '3px',\r\n\t\t\tbackgroundColor: '#222',\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__field_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '12px',\r\n\t\t\theight: '12px',\r\n\t\t\tborder: _this2.__field_knob_border + ( _this2.__color.v < 0.5 ? '#fff' : '#000' ),\r\n\t\t\tboxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\r\n\t\t\tborderRadius: '12px',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__hue_knob.style, {\r\n\t\t\tposition: 'absolute',\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '2px',\r\n\t\t\tborderRight: '4px solid #fff',\r\n\t\t\tzIndex: 1\r\n\t\t} );\r\n\t\tCommon.extend( _this2.__saturation_field.style, {\r\n\t\t\twidth: '100px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tmarginRight: '3px',\r\n\t\t\tdisplay: 'inline-block',\r\n\t\t\tcursor: 'pointer'\r\n\t\t} );\r\n\t\tCommon.extend( valueField.style, {\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tbackground: 'none'\r\n\t\t} );\r\n\t\tlinearGradient( valueField, 'top', 'rgba(0,0,0,0)', '#000' );\r\n\t\tCommon.extend( _this2.__hue_field.style, {\r\n\t\t\twidth: '15px',\r\n\t\t\theight: '100px',\r\n\t\t\tborder: '1px solid #555',\r\n\t\t\tcursor: 'ns-resize',\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: '3px',\r\n\t\t\tright: '3px'\r\n\t\t} );\r\n\t\thueGradient( _this2.__hue_field );\r\n\t\tCommon.extend( _this2.__input.style, {\r\n\t\t\toutline: 'none',\r\n\t\t\ttextAlign: 'center',\r\n\t\t\tcolor: '#fff',\r\n\t\t\tborder: 0,\r\n\t\t\tfontWeight: 'bold',\r\n\t\t\ttextShadow: _this2.__input_textShadow + 'rgba(0,0,0,0.7)'\r\n\t\t} );\r\n\t\tdom.bind( _this2.__saturation_field, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__saturation_field, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'mousedown', fieldDown );\r\n\t\tdom.bind( _this2.__field_knob, 'touchstart', fieldDown );\r\n\t\tdom.bind( _this2.__hue_field, 'mousedown', fieldDownH );\r\n\t\tdom.bind( _this2.__hue_field, 'touchstart', fieldDownH );\r\n\t\tfunction fieldDown( e ) {\r\n\r\n\t\t\tsetSV( e );\r\n\t\t\tdom.bind( window, 'mousemove', setSV );\r\n\t\t\tdom.bind( window, 'touchmove', setSV );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpSV );\r\n\r\n\t\t}\r\n\t\tfunction fieldDownH( e ) {\r\n\r\n\t\t\tsetH( e );\r\n\t\t\tdom.bind( window, 'mousemove', setH );\r\n\t\t\tdom.bind( window, 'touchmove', setH );\r\n\t\t\tdom.bind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.bind( window, 'touchend', fieldUpH );\r\n\r\n\t\t}\r\n\t\tfunction fieldUpSV() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setSV );\r\n\t\t\tdom.unbind( window, 'touchmove', setSV );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpSV );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpSV );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction fieldUpH() {\r\n\r\n\t\t\tdom.unbind( window, 'mousemove', setH );\r\n\t\t\tdom.unbind( window, 'touchmove', setH );\r\n\t\t\tdom.unbind( window, 'mouseup', fieldUpH );\r\n\t\t\tdom.unbind( window, 'touchend', fieldUpH );\r\n\t\t\tonFinish();\r\n\r\n\t\t}\r\n\t\tfunction onBlur() {\r\n\r\n\t\t\tvar i = interpret( this.value );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\t_this.__color.__state = i;\r\n\t\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.value = _this.__color.toString();\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfunction onFinish() {\r\n\r\n\t\t\tif ( _this.__onFinishChange ) {\r\n\r\n\t\t\t\t_this.__onFinishChange.call( _this, _this.__color.toOriginal() );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t_this2.__saturation_field.appendChild( valueField );\r\n\t\t_this2.__selector.appendChild( _this2.__field_knob );\r\n\t\t_this2.__selector.appendChild( _this2.__saturation_field );\r\n\t\t_this2.__selector.appendChild( _this2.__hue_field );\r\n\t\t_this2.__hue_field.appendChild( _this2.__hue_knob );\r\n\t\t_this2.domElement.appendChild( _this2.__input );\r\n\t\t_this2.domElement.appendChild( _this2.__selector );\r\n\t\t_this2.updateDisplay();\r\n\t\tfunction setSV( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__saturation_field.getBoundingClientRect();\r\n\t\t\tvar _ref = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientX = _ref.clientX,\r\n\t\t\t\tclientY = _ref.clientY;\r\n\t\t\tvar s = ( clientX - fieldRect.left ) / ( fieldRect.right - fieldRect.left );\r\n\t\t\tvar v = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( v > 1 ) {\r\n\r\n\t\t\t\tv = 1;\r\n\r\n\t\t\t} else if ( v < 0 ) {\r\n\r\n\t\t\t\tv = 0;\r\n\r\n\t\t\t}\r\n\t\t\tif ( s > 1 ) {\r\n\r\n\t\t\t\ts = 1;\r\n\r\n\t\t\t} else if ( s < 0 ) {\r\n\r\n\t\t\t\ts = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.v = v;\r\n\t\t\t_this.__color.s = s;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfunction setH( e ) {\r\n\r\n\t\t\tif ( e.type.indexOf( 'touch' ) === - 1 ) {\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t}\r\n\t\t\tvar fieldRect = _this.__hue_field.getBoundingClientRect();\r\n\t\t\tvar _ref2 = e.touches && e.touches[ 0 ] || e,\r\n\t\t\t\tclientY = _ref2.clientY;\r\n\t\t\tvar h = 1 - ( clientY - fieldRect.top ) / ( fieldRect.bottom - fieldRect.top );\r\n\t\t\tif ( h > 1 ) {\r\n\r\n\t\t\t\th = 1;\r\n\r\n\t\t\t} else if ( h < 0 ) {\r\n\r\n\t\t\t\th = 0;\r\n\r\n\t\t\t}\r\n\t\t\t_this.__color.h = h * 360;\r\n\t\t\t_this.setValue( _this.__color.toOriginal() );\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\treturn _this2;\r\n\r\n\t}\r\n\tcreateClass( ColorController, [ {\r\n\t\tkey: 'updateDisplay',\r\n\t\tvalue: function updateDisplay() {\r\n\r\n\t\t\tvar i = interpret( this.getValue() );\r\n\t\t\tif ( i !== false ) {\r\n\r\n\t\t\t\tvar mismatch = false;\r\n\t\t\t\tCommon.each( Color.COMPONENTS, function ( component ) {\r\n\r\n\t\t\t\t\tif ( ! Common.isUndefined( i[ component ] ) && ! Common.isUndefined( this.__color.__state[ component ] ) && i[ component ] !== this.__color.__state[ component ] ) {\r\n\r\n\t\t\t\t\t\tmismatch = true;\r\n\t\t\t\t\t\treturn {};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, this );\r\n\t\t\t\tif ( mismatch ) {\r\n\r\n\t\t\t\t\tCommon.extend( this.__color.__state, i );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tCommon.extend( this.__temp.__state, this.__color.__state );\r\n\t\t\tthis.__temp.a = 1;\r\n\t\t\tvar flip = this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0;\r\n\t\t\tvar _flip = 255 - flip;\r\n\t\t\tCommon.extend( this.__field_knob.style, {\r\n\t\t\t\tmarginLeft: 100 * this.__color.s - 7 + 'px',\r\n\t\t\t\tmarginTop: 100 * ( 1 - this.__color.v ) - 7 + 'px',\r\n\t\t\t\tbackgroundColor: this.__temp.toHexString(),\r\n\t\t\t\tborder: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\r\n\t\t\t} );\r\n\t\t\tthis.__hue_knob.style.marginTop = ( 1 - this.__color.h / 360 ) * 100 + 'px';\r\n\t\t\tthis.__temp.s = 1;\r\n\t\t\tthis.__temp.v = 1;\r\n\t\t\tlinearGradient( this.__saturation_field, 'left', '#fff', this.__temp.toHexString() );\r\n\t\t\tthis.__input.value = this.__color.toString();\r\n\t\t\tCommon.extend( this.__input.style, {\r\n\t\t\t\tbackgroundColor: this.__color.toHexString(),\r\n\t\t\t\tcolor: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\r\n\t\t\t\ttextShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn ColorController;\r\n\r\n}( Controller );\r\nvar vendors = [ '-moz-', '-o-', '-webkit-', '-ms-', '' ];\r\nfunction linearGradient( elem, x, a, b ) {\r\n\r\n\telem.style.background = '';\r\n\tCommon.each( vendors, function ( vendor ) {\r\n\r\n\t\telem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\r\n\r\n\t} );\r\n\r\n}\r\nfunction hueGradient( elem ) {\r\n\r\n\telem.style.background = '';\r\n\telem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\r\n\telem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\telem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\r\n\r\n}\r\n\r\nvar css = {\r\n\tload: function load( url, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar link = doc.createElement( 'link' );\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.href = url;\r\n\t\tdoc.getElementsByTagName( 'head' )[ 0 ].appendChild( link );\r\n\r\n\t},\r\n\tinject: function inject( cssContent, indoc ) {\r\n\r\n\t\tvar doc = indoc || document;\r\n\t\tvar injected = document.createElement( 'style' );\r\n\t\tinjected.type = 'text/css';\r\n\t\tinjected.innerHTML = cssContent;\r\n\t\tvar head = doc.getElementsByTagName( 'head' )[ 0 ];\r\n\t\ttry {\r\n\r\n\t\t\thead.appendChild( injected );\r\n\r\n\t\t} catch ( e ) {\r\n\t\t}\r\n\r\n\t}\r\n};\r\n\r\nvar saveDialogContents = \"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n\\n    </div>\\n\\n  </div>\\n\\n</div>\";\r\n\r\nvar ControllerFactory = function ControllerFactory( object, property ) {\r\n\r\n\tvar initialValue = object[ property ];\r\n\tif ( Common.isArray( arguments[ 2 ] ) || Common.isObject( arguments[ 2 ] ) ) {\r\n\r\n\t\treturn new OptionController( object, property, arguments[ 2 ] );\r\n\r\n\t}\r\n\tif ( Common.isNumber( initialValue ) ) {\r\n\r\n\t\tif ( Common.isNumber( arguments[ 2 ] ) && Common.isNumber( arguments[ 3 ] ) ) {\r\n\r\n\t\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ], arguments[ 4 ] );\r\n\r\n\t\t\t}\r\n\t\t\treturn new NumberControllerSlider( object, property, arguments[ 2 ], arguments[ 3 ] );\r\n\r\n\t\t}\r\n\t\tif ( Common.isNumber( arguments[ 4 ] ) ) {\r\n\r\n\t\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ], step: arguments[ 4 ] } );\r\n\r\n\t\t}\r\n\t\treturn new NumberControllerBox( object, property, { min: arguments[ 2 ], max: arguments[ 3 ] } );\r\n\r\n\t}\r\n\tif ( Common.isString( initialValue ) ) {\r\n\r\n\t\treturn new StringController( object, property );\r\n\r\n\t}\r\n\tif ( Common.isFunction( initialValue ) ) {\r\n\r\n\t\treturn new FunctionController( object, property, '' );\r\n\r\n\t}\r\n\tif ( Common.isBoolean( initialValue ) ) {\r\n\r\n\t\treturn new BooleanController( object, property );\r\n\r\n\t}\r\n\treturn null;\r\n\r\n};\r\n\r\nfunction requestAnimationFrame( callback ) {\r\n\r\n\tsetTimeout( callback, 1000 / 60 );\r\n\r\n}\r\nvar requestAnimationFrame$1 = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || requestAnimationFrame;\r\n\r\nvar CenteredDiv = function () {\r\n\r\n\tfunction CenteredDiv() {\r\n\r\n\t\tclassCallCheck( this, CenteredDiv );\r\n\t\tthis.backgroundElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.backgroundElement.style, {\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.8)',\r\n\t\t\ttop: 0,\r\n\t\t\tleft: 0,\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1000',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: 'opacity 0.2s linear',\r\n\t\t\ttransition: 'opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdom.makeFullscreen( this.backgroundElement );\r\n\t\tthis.backgroundElement.style.position = 'fixed';\r\n\t\tthis.domElement = document.createElement( 'div' );\r\n\t\tCommon.extend( this.domElement.style, {\r\n\t\t\tposition: 'fixed',\r\n\t\t\tdisplay: 'none',\r\n\t\t\tzIndex: '1001',\r\n\t\t\topacity: 0,\r\n\t\t\tWebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\r\n\t\t\ttransition: 'transform 0.2s ease-out, opacity 0.2s linear'\r\n\t\t} );\r\n\t\tdocument.body.appendChild( this.backgroundElement );\r\n\t\tdocument.body.appendChild( this.domElement );\r\n\t\tvar _this = this;\r\n\t\tdom.bind( this.backgroundElement, 'click', function () {\r\n\r\n\t\t\t_this.hide();\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tcreateClass( CenteredDiv, [ {\r\n\t\tkey: 'show',\r\n\t\tvalue: function show() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.backgroundElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.display = 'block';\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\t\t\tthis.layout();\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.backgroundElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.opacity = 1;\r\n\t\t\t\t_this.domElement.style.webkitTransform = 'scale(1)';\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'hide',\r\n\t\tvalue: function hide() {\r\n\r\n\t\t\tvar _this = this;\r\n\t\t\tvar hide = function hide() {\r\n\r\n\t\t\t\t_this.domElement.style.display = 'none';\r\n\t\t\t\t_this.backgroundElement.style.display = 'none';\r\n\t\t\t\tdom.unbind( _this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'transitionend', hide );\r\n\t\t\t\tdom.unbind( _this.domElement, 'oTransitionEnd', hide );\r\n\r\n\t\t\t};\r\n\t\t\tdom.bind( this.domElement, 'webkitTransitionEnd', hide );\r\n\t\t\tdom.bind( this.domElement, 'transitionend', hide );\r\n\t\t\tdom.bind( this.domElement, 'oTransitionEnd', hide );\r\n\t\t\tthis.backgroundElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.opacity = 0;\r\n\t\t\tthis.domElement.style.webkitTransform = 'scale(1.1)';\r\n\r\n\t\t}\r\n\t}, {\r\n\t\tkey: 'layout',\r\n\t\tvalue: function layout() {\r\n\r\n\t\t\tthis.domElement.style.left = window.innerWidth / 2 - dom.getWidth( this.domElement ) / 2 + 'px';\r\n\t\t\tthis.domElement.style.top = window.innerHeight / 2 - dom.getHeight( this.domElement ) / 2 + 'px';\r\n\r\n\t\t}\r\n\t} ] );\r\n\treturn CenteredDiv;\r\n\r\n}();\r\n\r\nvar styleSheet = ___$insertStyle( \".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\\n\" );\r\n\r\ncss.inject( styleSheet );\r\nvar CSS_NAMESPACE = 'dg';\r\nvar HIDE_KEY_CODE = 72;\r\nvar CLOSE_BUTTON_HEIGHT = 20;\r\nvar DEFAULT_DEFAULT_PRESET_NAME = 'Default';\r\nvar SUPPORTS_LOCAL_STORAGE = function () {\r\n\r\n\ttry {\r\n\r\n\t\treturn !! window.localStorage;\r\n\r\n\t} catch ( e ) {\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\n}();\r\nvar SAVE_DIALOGUE = void 0;\r\nvar autoPlaceVirgin = true;\r\nvar autoPlaceContainer = void 0;\r\nvar hide = false;\r\nvar hideableGuis = [];\r\nvar GUI = function GUI( pars ) {\r\n\r\n\tvar _this = this;\r\n\tvar params = pars || {};\r\n\tthis.domElement = document.createElement( 'div' );\r\n\tthis.__ul = document.createElement( 'ul' );\r\n\tthis.domElement.appendChild( this.__ul );\r\n\tdom.addClass( this.domElement, CSS_NAMESPACE );\r\n\tthis.__folders = {};\r\n\tthis.__controllers = [];\r\n\tthis.__rememberedObjects = [];\r\n\tthis.__rememberedObjectIndecesToControllers = [];\r\n\tthis.__listening = [];\r\n\tparams = Common.defaults( params, {\r\n\t\tcloseOnTop: false,\r\n\t\tautoPlace: true,\r\n\t\twidth: GUI.DEFAULT_WIDTH\r\n\t} );\r\n\tparams = Common.defaults( params, {\r\n\t\tresizable: params.autoPlace,\r\n\t\thideable: params.autoPlace\r\n\t} );\r\n\tif ( ! Common.isUndefined( params.load ) ) {\r\n\r\n\t\tif ( params.preset ) {\r\n\r\n\t\t\tparams.load.preset = params.preset;\r\n\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tparams.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\r\n\r\n\t}\r\n\tif ( Common.isUndefined( params.parent ) && params.hideable ) {\r\n\r\n\t\thideableGuis.push( this );\r\n\r\n\t}\r\n\tparams.resizable = Common.isUndefined( params.parent ) && params.resizable;\r\n\tif ( params.autoPlace && Common.isUndefined( params.scrollable ) ) {\r\n\r\n\t\tparams.scrollable = true;\r\n\r\n\t}\r\n\tvar useLocalStorage = SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( this, 'isLocal' ) ) === 'true';\r\n\tvar saveToLocalStorage = void 0;\r\n\tvar titleRow = void 0;\r\n\tObject.defineProperties( this,\r\n\t\t{\r\n\t\t\tparent: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.parent;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollable: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.scrollable;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tautoPlace: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.autoPlace;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseOnTop: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closeOnTop;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpreset: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\treturn _this.getRoot().preset;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn params.load.preset;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tif ( _this.parent ) {\r\n\r\n\t\t\t\t\t\t_this.getRoot().preset = v;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tparams.load.preset = v;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetPresetSelectIndex( this );\r\n\t\t\t\t\t_this.revert();\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.width;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.width = v;\r\n\t\t\t\t\tsetWidth( _this, v );\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.name;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.name = v;\r\n\t\t\t\t\tif ( titleRow ) {\r\n\r\n\t\t\t\t\t\ttitleRow.innerHTML = params.name;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclosed: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.closed;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( v ) {\r\n\r\n\t\t\t\t\tparams.closed = v;\r\n\t\t\t\t\tif ( params.closed ) {\r\n\r\n\t\t\t\t\t\tdom.addClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdom.removeClass( _this.__ul, GUI.CLASS_CLOSED );\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.onResize();\r\n\t\t\t\t\tif ( _this.__closeButton ) {\r\n\r\n\t\t\t\t\t\t_this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tload: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn params.load;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuseLocalStorage: {\r\n\t\t\t\tget: function get$$1() {\r\n\r\n\t\t\t\t\treturn useLocalStorage;\r\n\r\n\t\t\t\t},\r\n\t\t\t\tset: function set$$1( bool ) {\r\n\r\n\t\t\t\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\t\t\t\tuseLocalStorage = bool;\r\n\t\t\t\t\t\tif ( bool ) {\r\n\r\n\t\t\t\t\t\t\tdom.bind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdom.unbind( window, 'unload', saveToLocalStorage );\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'isLocal' ), bool );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\tthis.closed = params.closed || false;\r\n\t\tdom.addClass( this.domElement, GUI.CLASS_MAIN );\r\n\t\tdom.makeSelectable( this.domElement, false );\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\t\tif ( useLocalStorage ) {\r\n\r\n\t\t\t\t_this.useLocalStorage = true;\r\n\t\t\t\tvar savedGui = localStorage.getItem( getLocalStorageHash( this, 'gui' ) );\r\n\t\t\t\tif ( savedGui ) {\r\n\r\n\t\t\t\t\tparams.load = JSON.parse( savedGui );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tthis.__closeButton = document.createElement( 'div' );\r\n\t\tthis.__closeButton.innerHTML = GUI.TEXT_CLOSED;\r\n\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BUTTON );\r\n\t\tif ( params.closeOnTop ) {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_TOP );\r\n\t\t\tthis.domElement.insertBefore( this.__closeButton, this.domElement.childNodes[ 0 ] );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tdom.addClass( this.__closeButton, GUI.CLASS_CLOSE_BOTTOM );\r\n\t\t\tthis.domElement.appendChild( this.__closeButton );\r\n\r\n\t\t}\r\n\t\tdom.bind( this.__closeButton, 'click', function () {\r\n\r\n\t\t\t_this.closed = ! _this.closed;\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\tif ( params.closed === undefined ) {\r\n\r\n\t\t\tparams.closed = true;\r\n\r\n\t\t}\r\n\t\tvar titleRowName = document.createTextNode( params.name );\r\n\t\tdom.addClass( titleRowName, 'controller-name' );\r\n\t\ttitleRow = addRow( _this, titleRowName );\r\n\t\tvar onClickTitle = function onClickTitle( e ) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\t_this.closed = ! _this.closed;\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\t\tdom.addClass( this.__ul, GUI.CLASS_CLOSED );\r\n\t\tdom.addClass( titleRow, 'title' );\r\n\t\tdom.bind( titleRow, 'click', onClickTitle );\r\n\t\tif ( ! params.closed ) {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tif ( params.autoPlace ) {\r\n\r\n\t\tif ( Common.isUndefined( params.parent ) ) {\r\n\r\n\t\t\tif ( autoPlaceVirgin ) {\r\n\r\n\t\t\t\tautoPlaceContainer = document.createElement( 'div' );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, CSS_NAMESPACE );\r\n\t\t\t\tdom.addClass( autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER );\r\n\t\t\t\tdocument.body.appendChild( autoPlaceContainer );\r\n\t\t\t\tautoPlaceVirgin = false;\r\n\r\n\t\t\t}\r\n\t\t\tautoPlaceContainer.appendChild( this.domElement );\r\n\t\t\tdom.addClass( this.domElement, GUI.CLASS_AUTO_PLACE );\r\n\r\n\t\t}\r\n\t\tif ( ! this.parent ) {\r\n\r\n\t\t\tsetWidth( _this, params.width );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\tthis.__resizeHandler = function () {\r\n\r\n\t\t_this.onResizeDebounced();\r\n\r\n\t};\r\n\tdom.bind( window, 'resize', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'webkitTransitionEnd', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'transitionend', this.__resizeHandler );\r\n\tdom.bind( this.__ul, 'oTransitionEnd', this.__resizeHandler );\r\n\tthis.onResize();\r\n\tif ( params.resizable ) {\r\n\r\n\t\taddResizeHandle( this );\r\n\r\n\t}\r\n\tsaveToLocalStorage = function saveToLocalStorage() {\r\n\r\n\t\tif ( SUPPORTS_LOCAL_STORAGE && localStorage.getItem( getLocalStorageHash( _this, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorage.setItem( getLocalStorageHash( _this, 'gui' ), JSON.stringify( _this.getSaveObject() ) );\r\n\r\n\t\t}\r\n\r\n\t};\r\n\tthis.saveToLocalStorageIfPossible = saveToLocalStorage;\r\n\tfunction resetWidth() {\r\n\r\n\t\tvar root = _this.getRoot();\r\n\t\troot.width += 1;\r\n\t\tCommon.defer( function () {\r\n\r\n\t\t\troot.width -= 1;\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tif ( ! params.parent ) {\r\n\r\n\t\tresetWidth();\r\n\r\n\t}\r\n\r\n};\r\nGUI.toggleHide = function () {\r\n\r\n\thide = ! hide;\r\n\tCommon.each( hideableGuis, function ( gui ) {\r\n\r\n\t\tgui.domElement.style.display = hide ? 'none' : '';\r\n\r\n\t} );\r\n\r\n};\r\nGUI.CLASS_AUTO_PLACE = 'a';\r\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\r\nGUI.CLASS_MAIN = 'main';\r\nGUI.CLASS_CONTROLLER_ROW = 'cr';\r\nGUI.CLASS_TOO_TALL = 'taller-than-window';\r\nGUI.CLASS_CLOSED = 'closed';\r\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\r\nGUI.CLASS_CLOSE_TOP = 'close-top';\r\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\r\nGUI.CLASS_DRAG = 'drag';\r\nGUI.DEFAULT_WIDTH = 245;\r\nGUI.TEXT_CLOSED = 'Close Controls';\r\nGUI.TEXT_OPEN = 'Open Controls';\r\nGUI._keydownHandler = function ( e ) {\r\n\r\n\tif ( document.activeElement.type !== 'text' && ( e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE ) ) {\r\n\r\n\t\tGUI.toggleHide();\r\n\r\n\t}\r\n\r\n};\r\ndom.bind( window, 'keydown', GUI._keydownHandler, false );\r\nCommon.extend( GUI.prototype,\r\n\t{\r\n\t\tadd: function add( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tfactoryArgs: Array.prototype.slice.call( arguments, 2 )\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\taddColor: function addColor( object, property ) {\r\n\r\n\t\t\treturn _add( this, object, property, {\r\n\t\t\t\tcolor: true\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tremove: function remove( controller ) {\r\n\r\n\t\t\tthis.__ul.removeChild( controller.__li );\r\n\t\t\tthis.__controllers.splice( this.__controllers.indexOf( controller ), 1 );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\tdestroy: function destroy() {\r\n\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'Only the root GUI should be removed with .destroy(). ' + 'For subfolders, use gui.removeFolder(folder) instead.' );\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tautoPlaceContainer.removeChild( this.domElement );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( this.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\t_this.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tdom.unbind( window, 'keydown', GUI._keydownHandler, false );\r\n\t\t\tremoveListeners( this );\r\n\r\n\t\t},\r\n\t\taddFolder: function addFolder( name ) {\r\n\r\n\t\t\tif ( this.__folders[ name ] !== undefined ) {\r\n\r\n\t\t\t\tthrow new Error( 'You already have a folder in this GUI by the' + ' name \"' + name + '\"' );\r\n\r\n\t\t\t}\r\n\t\t\tvar newGuiParams = { name: name, parent: this };\r\n\t\t\tnewGuiParams.autoPlace = this.autoPlace;\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ name ] ) {\r\n\r\n\t\t\t\tnewGuiParams.closed = this.load.folders[ name ].closed;\r\n\t\t\t\tnewGuiParams.load = this.load.folders[ name ];\r\n\r\n\t\t\t}\r\n\t\t\tvar gui = new GUI( newGuiParams );\r\n\t\t\tthis.__folders[ name ] = gui;\r\n\t\t\tvar li = addRow( this, gui.domElement );\r\n\t\t\tdom.addClass( li, 'folder' );\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tremoveFolder: function removeFolder( folder ) {\r\n\r\n\t\t\tthis.__ul.removeChild( folder.domElement.parentElement );\r\n\t\t\tdelete this.__folders[ folder.name ];\r\n\t\t\tif ( this.load &&\r\n    this.load.folders &&\r\n    this.load.folders[ folder.name ] ) {\r\n\r\n\t\t\t\tdelete this.load.folders[ folder.name ];\r\n\r\n\t\t\t}\r\n\t\t\tremoveListeners( folder );\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( folder.__folders, function ( subfolder ) {\r\n\r\n\t\t\t\tfolder.removeFolder( subfolder );\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t_this.onResize();\r\n\r\n\t\t\t} );\r\n\r\n\t\t},\r\n\t\topen: function open() {\r\n\r\n\t\t\tthis.closed = false;\r\n\r\n\t\t},\r\n\t\tclose: function close() {\r\n\r\n\t\t\tthis.closed = true;\r\n\r\n\t\t},\r\n\t\thide: function hide() {\r\n\r\n\t\t\tthis.domElement.style.display = 'none';\r\n\r\n\t\t},\r\n\t\tshow: function show() {\r\n\r\n\t\t\tthis.domElement.style.display = '';\r\n\r\n\t\t},\r\n\t\tonResize: function onResize() {\r\n\r\n\t\t\tvar root = this.getRoot();\r\n\t\t\tif ( root.scrollable ) {\r\n\r\n\t\t\t\tvar top = dom.getOffset( root.__ul ).top;\r\n\t\t\t\tvar h = 0;\r\n\t\t\t\tCommon.each( root.__ul.childNodes, function ( node ) {\r\n\r\n\t\t\t\t\tif ( ! ( root.autoPlace && node === root.__save_row ) ) {\r\n\r\n\t\t\t\t\t\th += dom.getHeight( node );\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} );\r\n\t\t\t\tif ( window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h ) {\r\n\r\n\t\t\t\t\tdom.addClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tdom.removeClass( root.domElement, GUI.CLASS_TOO_TALL );\r\n\t\t\t\t\troot.__ul.style.height = 'auto';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__resize_handle ) {\r\n\r\n\t\t\t\tCommon.defer( function () {\r\n\r\n\t\t\t\t\troot.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\r\n\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( root.__closeButton ) {\r\n\r\n\t\t\t\troot.__closeButton.style.width = root.width + 'px';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonResizeDebounced: Common.debounce( function () {\r\n\r\n\t\t\tthis.onResize();\r\n\r\n\t\t}, 50 ),\r\n\t\tremember: function remember() {\r\n\r\n\t\t\tif ( Common.isUndefined( SAVE_DIALOGUE ) ) {\r\n\r\n\t\t\t\tSAVE_DIALOGUE = new CenteredDiv();\r\n\t\t\t\tSAVE_DIALOGUE.domElement.innerHTML = saveDialogContents;\r\n\r\n\t\t\t}\r\n\t\t\tif ( this.parent ) {\r\n\r\n\t\t\t\tthrow new Error( 'You can only call remember on a top level GUI.' );\r\n\r\n\t\t\t}\r\n\t\t\tvar _this = this;\r\n\t\t\tCommon.each( Array.prototype.slice.call( arguments ), function ( object ) {\r\n\r\n\t\t\t\tif ( _this.__rememberedObjects.length === 0 ) {\r\n\r\n\t\t\t\t\taddSaveMenu( _this );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( _this.__rememberedObjects.indexOf( object ) === - 1 ) {\r\n\r\n\t\t\t\t\t_this.__rememberedObjects.push( object );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t\tif ( this.autoPlace ) {\r\n\r\n\t\t\t\tsetWidth( this, this.width );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tgetRoot: function getRoot() {\r\n\r\n\t\t\tvar gui = this;\r\n\t\t\twhile ( gui.parent ) {\r\n\r\n\t\t\t\tgui = gui.parent;\r\n\r\n\t\t\t}\r\n\t\t\treturn gui;\r\n\r\n\t\t},\r\n\t\tgetSaveObject: function getSaveObject() {\r\n\r\n\t\t\tvar toReturn = this.load;\r\n\t\t\ttoReturn.closed = this.closed;\r\n\t\t\tif ( this.__rememberedObjects.length > 0 ) {\r\n\r\n\t\t\t\ttoReturn.preset = this.preset;\r\n\t\t\t\tif ( ! toReturn.remembered ) {\r\n\r\n\t\t\t\t\ttoReturn.remembered = {};\r\n\r\n\t\t\t\t}\r\n\t\t\t\ttoReturn.remembered[ this.preset ] = getCurrentPreset( this );\r\n\r\n\t\t\t}\r\n\t\t\ttoReturn.folders = {};\r\n\t\t\tCommon.each( this.__folders, function ( element, key ) {\r\n\r\n\t\t\t\ttoReturn.folders[ key ] = element.getSaveObject();\r\n\r\n\t\t\t} );\r\n\t\t\treturn toReturn;\r\n\r\n\t\t},\r\n\t\tsave: function save() {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ this.preset ] = getCurrentPreset( this );\r\n\t\t\tmarkPresetModified( this, false );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\tsaveAs: function saveAs( presetName ) {\r\n\r\n\t\t\tif ( ! this.load.remembered ) {\r\n\r\n\t\t\t\tthis.load.remembered = {};\r\n\t\t\t\tthis.load.remembered[ DEFAULT_DEFAULT_PRESET_NAME ] = getCurrentPreset( this, true );\r\n\r\n\t\t\t}\r\n\t\t\tthis.load.remembered[ presetName ] = getCurrentPreset( this );\r\n\t\t\tthis.preset = presetName;\r\n\t\t\taddPresetOption( this, presetName, true );\r\n\t\t\tthis.saveToLocalStorageIfPossible();\r\n\r\n\t\t},\r\n\t\trevert: function revert( gui ) {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tif ( ! this.getRoot().load.remembered ) {\r\n\r\n\t\t\t\t\tcontroller.setValue( controller.initialValue );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\trecallSavedValue( gui || this.getRoot(), controller );\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif ( controller.__onFinishChange ) {\r\n\r\n\t\t\t\t\tcontroller.__onFinishChange.call( controller, controller.getValue() );\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}, this );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.revert( folder );\r\n\r\n\t\t\t} );\r\n\t\t\tif ( ! gui ) {\r\n\r\n\t\t\t\tmarkPresetModified( this.getRoot(), false );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tlisten: function listen( controller ) {\r\n\r\n\t\t\tvar init = this.__listening.length === 0;\r\n\t\t\tthis.__listening.push( controller );\r\n\t\t\tif ( init ) {\r\n\r\n\t\t\t\tupdateDisplays( this.__listening );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tupdateDisplay: function updateDisplay() {\r\n\r\n\t\t\tCommon.each( this.__controllers, function ( controller ) {\r\n\r\n\t\t\t\tcontroller.updateDisplay();\r\n\r\n\t\t\t} );\r\n\t\t\tCommon.each( this.__folders, function ( folder ) {\r\n\r\n\t\t\t\tfolder.updateDisplay();\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\t} );\r\nfunction addRow( gui, newDom, liBefore ) {\r\n\r\n\tvar li = document.createElement( 'li' );\r\n\tif ( newDom ) {\r\n\r\n\t\tli.appendChild( newDom );\r\n\r\n\t}\r\n\tif ( liBefore ) {\r\n\r\n\t\tgui.__ul.insertBefore( li, liBefore );\r\n\r\n\t} else {\r\n\r\n\t\tgui.__ul.appendChild( li );\r\n\r\n\t}\r\n\tgui.onResize();\r\n\treturn li;\r\n\r\n}\r\nfunction removeListeners( gui ) {\r\n\r\n\tdom.unbind( window, 'resize', gui.__resizeHandler );\r\n\tif ( gui.saveToLocalStorageIfPossible ) {\r\n\r\n\t\tdom.unbind( window, 'unload', gui.saveToLocalStorageIfPossible );\r\n\r\n\t}\r\n\r\n}\r\nfunction markPresetModified( gui, modified ) {\r\n\r\n\tvar opt = gui.__preset_select[ gui.__preset_select.selectedIndex ];\r\n\tif ( modified ) {\r\n\r\n\t\topt.innerHTML = opt.value + '*';\r\n\r\n\t} else {\r\n\r\n\t\topt.innerHTML = opt.value;\r\n\r\n\t}\r\n\r\n}\r\nfunction augmentController( gui, li, controller ) {\r\n\r\n\tcontroller.__li = li;\r\n\tcontroller.__gui = gui;\r\n\tCommon.extend( controller, {\r\n\t\toptions: function options( _options ) {\r\n\r\n\t\t\tif ( arguments.length > 1 ) {\r\n\r\n\t\t\t\tvar nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ Common.toArray( arguments ) ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\t\t\tif ( Common.isArray( _options ) || Common.isObject( _options ) ) {\r\n\r\n\t\t\t\tvar _nextSibling = controller.__li.nextElementSibling;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\treturn _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: _nextSibling,\r\n\t\t\t\t\tfactoryArgs: [ _options ]\r\n\t\t\t\t} );\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tname: function name( _name ) {\r\n\r\n\t\t\tcontroller.__li.firstElementChild.firstElementChild.innerHTML = _name;\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tlisten: function listen() {\r\n\r\n\t\t\tcontroller.__gui.listen( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t},\r\n\t\tremove: function remove() {\r\n\r\n\t\t\tcontroller.__gui.remove( controller );\r\n\t\t\treturn controller;\r\n\r\n\t\t}\r\n\t} );\r\n\tif ( controller instanceof NumberControllerSlider ) {\r\n\r\n\t\tvar box = new NumberControllerBox( controller.object, controller.property, { min: controller.__min, max: controller.__max, step: controller.__step } );\r\n\t\tCommon.each( [ 'updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max' ], function ( method ) {\r\n\r\n\t\t\tvar pc = controller[ method ];\r\n\t\t\tvar pb = box[ method ];\r\n\t\t\tcontroller[ method ] = box[ method ] = function () {\r\n\r\n\t\t\t\tvar args = Array.prototype.slice.call( arguments );\r\n\t\t\t\tpb.apply( box, args );\r\n\t\t\t\treturn pc.apply( controller, args );\r\n\r\n\t\t\t};\r\n\r\n\t\t} );\r\n\t\tdom.addClass( li, 'has-slider' );\r\n\t\tcontroller.domElement.insertBefore( box.domElement, controller.domElement.firstElementChild );\r\n\r\n\t} else if ( controller instanceof NumberControllerBox ) {\r\n\r\n\t\tvar r = function r( returned ) {\r\n\r\n\t\t\tif ( Common.isNumber( controller.__min ) && Common.isNumber( controller.__max ) ) {\r\n\r\n\t\t\t\tvar oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\r\n\t\t\t\tvar wasListening = controller.__gui.__listening.indexOf( controller ) > - 1;\r\n\t\t\t\tcontroller.remove();\r\n\t\t\t\tvar newController = _add( gui, controller.object, controller.property, {\r\n\t\t\t\t\tbefore: controller.__li.nextElementSibling,\r\n\t\t\t\t\tfactoryArgs: [ controller.__min, controller.__max, controller.__step ]\r\n\t\t\t\t} );\r\n\t\t\t\tnewController.name( oldName );\r\n\t\t\t\tif ( wasListening ) newController.listen();\r\n\t\t\t\treturn newController;\r\n\r\n\t\t\t}\r\n\t\t\treturn returned;\r\n\r\n\t\t};\r\n\t\tcontroller.min = Common.compose( r, controller.min );\r\n\t\tcontroller.max = Common.compose( r, controller.max );\r\n\r\n\t} else if ( controller instanceof BooleanController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__checkbox, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( controller.__checkbox, 'click', function ( e ) {\r\n\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof FunctionController ) {\r\n\r\n\t\tdom.bind( li, 'click', function () {\r\n\r\n\t\t\tdom.fakeEvent( controller.__button, 'click' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseover', function () {\r\n\r\n\t\t\tdom.addClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\t\tdom.bind( li, 'mouseout', function () {\r\n\r\n\t\t\tdom.removeClass( controller.__button, 'hover' );\r\n\r\n\t\t} );\r\n\r\n\t} else if ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\t\tcontroller.updateDisplay = Common.compose( function ( val ) {\r\n\r\n\t\t\tli.style.borderLeftColor = controller.__color.toString();\r\n\t\t\treturn val;\r\n\r\n\t\t}, controller.updateDisplay );\r\n\t\tcontroller.updateDisplay();\r\n\r\n\t}\r\n\tcontroller.setValue = Common.compose( function ( val ) {\r\n\r\n\t\tif ( gui.getRoot().__preset_select && controller.isModified() ) {\r\n\r\n\t\t\tmarkPresetModified( gui.getRoot(), true );\r\n\r\n\t\t}\r\n\t\treturn val;\r\n\r\n\t}, controller.setValue );\r\n\r\n}\r\nfunction recallSavedValue( gui, controller ) {\r\n\r\n\tvar root = gui.getRoot();\r\n\tvar matchedIndex = root.__rememberedObjects.indexOf( controller.object );\r\n\tif ( matchedIndex !== - 1 ) {\r\n\r\n\t\tvar controllerMap = root.__rememberedObjectIndecesToControllers[ matchedIndex ];\r\n\t\tif ( controllerMap === undefined ) {\r\n\r\n\t\t\tcontrollerMap = {};\r\n\t\t\troot.__rememberedObjectIndecesToControllers[ matchedIndex ] = controllerMap;\r\n\r\n\t\t}\r\n\t\tcontrollerMap[ controller.property ] = controller;\r\n\t\tif ( root.load && root.load.remembered ) {\r\n\r\n\t\t\tvar presetMap = root.load.remembered;\r\n\t\t\tvar preset = void 0;\r\n\t\t\tif ( presetMap[ gui.preset ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ gui.preset ];\r\n\r\n\t\t\t} else if ( presetMap[ DEFAULT_DEFAULT_PRESET_NAME ] ) {\r\n\r\n\t\t\t\tpreset = presetMap[ DEFAULT_DEFAULT_PRESET_NAME ];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t}\r\n\t\t\tif ( preset[ matchedIndex ] && preset[ matchedIndex ][ controller.property ] !== undefined ) {\r\n\r\n\t\t\t\tvar value = preset[ matchedIndex ][ controller.property ];\r\n\t\t\t\tcontroller.initialValue = value;\r\n\t\t\t\tcontroller.setValue( value );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction _add( gui, object, property, params ) {\r\n\r\n\tif ( object[ property ] === undefined ) {\r\n\r\n\t\tthrow new Error( 'Object \"' + object + '\" has no property \"' + property + '\"' );\r\n\r\n\t}\r\n\tvar controller = void 0;\r\n\tif ( params.color ) {\r\n\r\n\t\tcontroller = new ColorController( object, property );\r\n\r\n\t} else {\r\n\r\n\t\tvar factoryArgs = [ object, property ].concat( params.factoryArgs );\r\n\t\tcontroller = ControllerFactory.apply( gui, factoryArgs );\r\n\r\n\t}\r\n\tif ( params.before instanceof Controller ) {\r\n\r\n\t\tparams.before = params.before.__li;\r\n\r\n\t}\r\n\trecallSavedValue( gui, controller );\r\n\tdom.addClass( controller.domElement, 'c' );\r\n\tvar name = document.createElement( 'span' );\r\n\tdom.addClass( name, 'property-name' );\r\n\tname.innerHTML = controller.property;\r\n\tvar container = document.createElement( 'div' );\r\n\tcontainer.appendChild( name );\r\n\tcontainer.appendChild( controller.domElement );\r\n\tvar li = addRow( gui, container, params.before );\r\n\tdom.addClass( li, GUI.CLASS_CONTROLLER_ROW );\r\n\tif ( controller instanceof ColorController ) {\r\n\r\n\t\tdom.addClass( li, 'color' );\r\n\r\n\t} else {\r\n\r\n\t\tdom.addClass( li, _typeof( controller.getValue() ) );\r\n\r\n\t}\r\n\taugmentController( gui, li, controller );\r\n\tgui.__controllers.push( controller );\r\n\treturn controller;\r\n\r\n}\r\nfunction getLocalStorageHash( gui, key ) {\r\n\r\n\treturn document.location.href + '.' + key;\r\n\r\n}\r\nfunction addPresetOption( gui, name, setSelected ) {\r\n\r\n\tvar opt = document.createElement( 'option' );\r\n\topt.innerHTML = name;\r\n\topt.value = name;\r\n\tgui.__preset_select.appendChild( opt );\r\n\tif ( setSelected ) {\r\n\r\n\t\tgui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\r\n\r\n\t}\r\n\r\n}\r\nfunction showHideExplain( gui, explain ) {\r\n\r\n\texplain.style.display = gui.useLocalStorage ? 'block' : 'none';\r\n\r\n}\r\nfunction addSaveMenu( gui ) {\r\n\r\n\tvar div = gui.__save_row = document.createElement( 'li' );\r\n\tdom.addClass( gui.domElement, 'has-save' );\r\n\tgui.__ul.insertBefore( div, gui.__ul.firstChild );\r\n\tdom.addClass( div, 'save-row' );\r\n\tvar gears = document.createElement( 'span' );\r\n\tgears.innerHTML = '&nbsp;';\r\n\tdom.addClass( gears, 'button gears' );\r\n\tvar button = document.createElement( 'span' );\r\n\tbutton.innerHTML = 'Save';\r\n\tdom.addClass( button, 'button' );\r\n\tdom.addClass( button, 'save' );\r\n\tvar button2 = document.createElement( 'span' );\r\n\tbutton2.innerHTML = 'New';\r\n\tdom.addClass( button2, 'button' );\r\n\tdom.addClass( button2, 'save-as' );\r\n\tvar button3 = document.createElement( 'span' );\r\n\tbutton3.innerHTML = 'Revert';\r\n\tdom.addClass( button3, 'button' );\r\n\tdom.addClass( button3, 'revert' );\r\n\tvar select = gui.__preset_select = document.createElement( 'select' );\r\n\tif ( gui.load && gui.load.remembered ) {\r\n\r\n\t\tCommon.each( gui.load.remembered, function ( value, key ) {\r\n\r\n\t\t\taddPresetOption( gui, key, key === gui.preset );\r\n\r\n\t\t} );\r\n\r\n\t} else {\r\n\r\n\t\taddPresetOption( gui, DEFAULT_DEFAULT_PRESET_NAME, false );\r\n\r\n\t}\r\n\tdom.bind( select, 'change', function () {\r\n\r\n\t\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\t\tgui.__preset_select[ index ].innerHTML = gui.__preset_select[ index ].value;\r\n\r\n\t\t}\r\n\t\tgui.preset = this.value;\r\n\r\n\t} );\r\n\tdiv.appendChild( select );\r\n\tdiv.appendChild( gears );\r\n\tdiv.appendChild( button );\r\n\tdiv.appendChild( button2 );\r\n\tdiv.appendChild( button3 );\r\n\tif ( SUPPORTS_LOCAL_STORAGE ) {\r\n\r\n\t\tvar explain = document.getElementById( 'dg-local-explain' );\r\n\t\tvar localStorageCheckBox = document.getElementById( 'dg-local-storage' );\r\n\t\tvar saveLocally = document.getElementById( 'dg-save-locally' );\r\n\t\tsaveLocally.style.display = 'block';\r\n\t\tif ( localStorage.getItem( getLocalStorageHash( gui, 'isLocal' ) ) === 'true' ) {\r\n\r\n\t\t\tlocalStorageCheckBox.setAttribute( 'checked', 'checked' );\r\n\r\n\t\t}\r\n\t\tshowHideExplain( gui, explain );\r\n\t\tdom.bind( localStorageCheckBox, 'change', function () {\r\n\r\n\t\t\tgui.useLocalStorage = ! gui.useLocalStorage;\r\n\t\t\tshowHideExplain( gui, explain );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tvar newConstructorTextArea = document.getElementById( 'dg-new-constructor' );\r\n\tdom.bind( newConstructorTextArea, 'keydown', function ( e ) {\r\n\r\n\t\tif ( e.metaKey && ( e.which === 67 || e.keyCode === 67 ) ) {\r\n\r\n\t\t\tSAVE_DIALOGUE.hide();\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( gears, 'click', function () {\r\n\r\n\t\tnewConstructorTextArea.innerHTML = JSON.stringify( gui.getSaveObject(), undefined, 2 );\r\n\t\tSAVE_DIALOGUE.show();\r\n\t\tnewConstructorTextArea.focus();\r\n\t\tnewConstructorTextArea.select();\r\n\r\n\t} );\r\n\tdom.bind( button, 'click', function () {\r\n\r\n\t\tgui.save();\r\n\r\n\t} );\r\n\tdom.bind( button2, 'click', function () {\r\n\r\n\t\tvar presetName = prompt( 'Enter a new preset name.' );\r\n\t\tif ( presetName ) {\r\n\r\n\t\t\tgui.saveAs( presetName );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\tdom.bind( button3, 'click', function () {\r\n\r\n\t\tgui.revert();\r\n\r\n\t} );\r\n\r\n}\r\nfunction addResizeHandle( gui ) {\r\n\r\n\tvar pmouseX = void 0;\r\n\tgui.__resize_handle = document.createElement( 'div' );\r\n\tCommon.extend( gui.__resize_handle.style, {\r\n\t\twidth: '6px',\r\n\t\tmarginLeft: '-3px',\r\n\t\theight: '200px',\r\n\t\tcursor: 'ew-resize',\r\n\t\tposition: 'absolute'\r\n\t} );\r\n\tfunction drag( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tgui.width += pmouseX - e.clientX;\r\n\t\tgui.onResize();\r\n\t\tpmouseX = e.clientX;\r\n\t\treturn false;\r\n\r\n\t}\r\n\tfunction dragStop() {\r\n\r\n\t\tdom.removeClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.unbind( window, 'mousemove', drag );\r\n\t\tdom.unbind( window, 'mouseup', dragStop );\r\n\r\n\t}\r\n\tfunction dragStart( e ) {\r\n\r\n\t\te.preventDefault();\r\n\t\tpmouseX = e.clientX;\r\n\t\tdom.addClass( gui.__closeButton, GUI.CLASS_DRAG );\r\n\t\tdom.bind( window, 'mousemove', drag );\r\n\t\tdom.bind( window, 'mouseup', dragStop );\r\n\t\treturn false;\r\n\r\n\t}\r\n\tdom.bind( gui.__resize_handle, 'mousedown', dragStart );\r\n\tdom.bind( gui.__closeButton, 'mousedown', dragStart );\r\n\tgui.domElement.insertBefore( gui.__resize_handle, gui.domElement.firstElementChild );\r\n\r\n}\r\nfunction setWidth( gui, w ) {\r\n\r\n\tgui.domElement.style.width = w + 'px';\r\n\tif ( gui.__save_row && gui.autoPlace ) {\r\n\r\n\t\tgui.__save_row.style.width = w + 'px';\r\n\r\n\t}\r\n\tif ( gui.__closeButton ) {\r\n\r\n\t\tgui.__closeButton.style.width = w + 'px';\r\n\r\n\t}\r\n\r\n}\r\nfunction getCurrentPreset( gui, useInitialValues ) {\r\n\r\n\tvar toReturn = {};\r\n\tCommon.each( gui.__rememberedObjects, function ( val, index ) {\r\n\r\n\t\tvar savedValues = {};\r\n\t\tvar controllerMap = gui.__rememberedObjectIndecesToControllers[ index ];\r\n\t\tCommon.each( controllerMap, function ( controller, property ) {\r\n\r\n\t\t\tsavedValues[ property ] = useInitialValues ? controller.initialValue : controller.getValue();\r\n\r\n\t\t} );\r\n\t\ttoReturn[ index ] = savedValues;\r\n\r\n\t} );\r\n\treturn toReturn;\r\n\r\n}\r\nfunction setPresetSelectIndex( gui ) {\r\n\r\n\tfor ( var index = 0; index < gui.__preset_select.length; index ++ ) {\r\n\r\n\t\tif ( gui.__preset_select[ index ].value === gui.preset ) {\r\n\r\n\t\t\tgui.__preset_select.selectedIndex = index;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\nfunction updateDisplays( controllerArray ) {\r\n\r\n\tif ( controllerArray.length !== 0 ) {\r\n\r\n\t\trequestAnimationFrame$1.call( window, function () {\r\n\r\n\t\t\tupdateDisplays( controllerArray );\r\n\r\n\t\t} );\r\n\r\n\t}\r\n\tCommon.each( controllerArray, function ( c ) {\r\n\r\n\t\tc.updateDisplay();\r\n\r\n\t} );\r\n\r\n}\r\n\r\nvar color = {\r\n\tColor: Color,\r\n\tmath: ColorMath,\r\n\tinterpret: interpret\r\n};\r\nvar controllers = {\r\n\tController: Controller,\r\n\tBooleanController: BooleanController,\r\n\tOptionController: OptionController,\r\n\tStringController: StringController,\r\n\tNumberController: NumberController,\r\n\tNumberControllerBox: NumberControllerBox,\r\n\tNumberControllerSlider: NumberControllerSlider,\r\n\tFunctionController: FunctionController,\r\n\tColorController: ColorController\r\n};\r\nvar dom$1 = { dom: dom };\r\nvar gui = { GUI: GUI };\r\nvar GUI$1 = GUI;\r\nvar index = {\r\n\tcolor: color,\r\n\tcontrollers: controllers,\r\n\tdom: dom$1,\r\n\tgui: gui,\r\n\tGUI: GUI$1\r\n};\r\n\r\nexport { color, controllers, dom$1 as dom, gui, GUI$1 as GUI };\r\nexport default index;","import React, { Component } from \"react\";\r\n// import ReactDOM from \"react-dom\";\r\nimport * as THREE from \"three\";\r\nimport { OrbitControls } from './OrbitControls.js';\r\nimport { GUI } from './dat.gui.module.js';\r\nimport * as firebase from 'firebase';\r\n\r\nclass ThreeScene extends Component {\r\n    componentDidMount() {\r\n        const params = {\r\n            goHome: GoHome\r\n        };\r\n\r\n        let genderCol = [\r\n            {gender: 'male', color: new THREE.MeshBasicMaterial({color: 0x5a12a3, wireframe:false})},\r\n            {gender: 'female', color: new THREE.MeshBasicMaterial({color: 0xffffff, wireframe:false})},\r\n            {gender: 'nonbinary', color: new THREE.MeshBasicMaterial({color: 0xffe500, wireframe:false})},\r\n            {gender: 'trans', color: new THREE.MeshBasicMaterial({color: 0xa62e8, wireframe:false})},\r\n            {gender: 'genderqueer', color: new THREE.MeshBasicMaterial({color: 0x2a9346, wireframe:false})},\r\n            {gender: 'agender', color: new THREE.MeshBasicMaterial({color: 0xe0822b, wireframe:false})},\r\n            {gender: 'other', color: new THREE.MeshBasicMaterial({color: 0xf6b6d1, wireframe:false})},\r\n            {gender: '', color: new THREE.MeshBasicMaterial({color: 0x924900, wireframe:true})}\r\n        ];\r\n        let spheres = [];\r\n        let isEmpty = true;\r\n        var ref = firebase.database().ref('responses');\r\n        \r\n        const getData = (d) => {\r\n            var data = d.val();\r\n            var keys = Object.keys(data);\r\n\r\n            for(var i=0;i<keys.length;i++){\r\n                var k = keys[i];\r\n                addSphere(data[k],i);\r\n            }\r\n            isEmpty = false;\r\n        };\r\n\r\n        const errData = (err) => {console.log(\"Error!\" + err);};\r\n\r\n        var addSphere = function(arr,num) {\r\n            // console.log(\"new\");\r\n            var sphere, color, newColor;\r\n            var sphereGeom = new THREE.SphereGeometry( 5, 32, 32 );\r\n            var personaGenders = [];\r\n\r\n            if(arr.gender != '') {\r\n                for(var i=0; i<genderCol.length; i++) {\r\n                    if(arr.gender == genderCol[i].gender) {\r\n                        color = genderCol[i].color;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                color = genderCol[7].color;\r\n            }\r\n            // console.log(arr.genderPersonas.objects[0].val);\r\n            for(var i=0; i<arr.genderPersonas.objects.length; i++) {\r\n                if(arr.genderPersonas.objects[i].val != '' && arr.genderPersonas.objects[i].val != ' ' && arr.genderPersonas.objects[i].val != undefined) {\r\n                    // console.log(i, arr.genderPersonas.objects[i].val);\r\n                    personaGenders.push(arr.genderPersonas.objects[i].val);\r\n                }\r\n            }\r\n\r\n            var randomIndex = Math.round(Math.random() * ((personaGenders.length-1) - 0) + 0 );\r\n            // console.log(randomIndex);\r\n            for(var i=0; i<genderCol.length; i++) {\r\n                if(personaGenders[randomIndex] == genderCol[i].gender) {\r\n                    newColor = genderCol[i].color;\r\n                }\r\n            }\r\n\r\n            if (personaGenders === undefined || personaGenders.length == 0) {\r\n                newColor = genderCol[7].color;\r\n            }\r\n            // console.log(personaGenders, newColor);\r\n\r\n            sphere = new THREE.Mesh( sphereGeom, color );\r\n            sphere.visible = false;\r\n            sphere.position.z = Math.round(Math.random() * (-350 + -300) + -300);\r\n            var angle = Math.random()*Math.PI*2;\r\n            var radius = 35;\r\n            var r = radius * Math.sqrt(Math.random());\r\n            var x = Math.cos(angle)*r;\r\n            var y = Math.sin(angle)*r;\r\n            sphere.position.x = x;\r\n            sphere.position.y = y;\r\n            spheres.push({Sphere:sphere, val:color, newVal:newColor});\r\n        };\r\n\r\n        function GoHome() {\r\n            window.location.href = process.env.PUBLIC_URL + \"/#/home\";\r\n            window.location.reload();\r\n        };\r\n\r\n        let scene, camera, renderer, light, \r\n        gate, onlineGate, irlGate, \r\n        circle, circle1, circleOnline,circleOnline1, circleIRL, circleIRL1,\r\n        controls;\r\n\r\n        var init = function () {\r\n            const gui = new GUI();\r\n            gui.add(params, 'goHome').name('CLICK HERE');\r\n            ref.on('value',getData,errData);\r\n            scene = new THREE.Scene();\r\n            camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );\r\n            renderer = new THREE.WebGLRenderer({ antialias:true });\r\n            renderer.setSize( window.innerWidth, window.innerHeight );\r\n            document.body.appendChild( renderer.domElement );\r\n            light = new THREE.AmbientLight(0xffffff, 5.0);\r\n            scene.add(light);\r\n            \r\n            var torusGeom = new THREE.TorusGeometry( 50, 3, 16, 100 );\r\n            var torusMat = new THREE.MeshNormalMaterial( { color: 0x2194ce, transparent:true, opacity:0.8 } );\r\n            gate = new THREE.Mesh( torusGeom, torusMat );\r\n            scene.add( gate );\r\n            var circleGeom = new THREE.CircleGeometry( 49, 32 );\r\n            var circleMat = new THREE.MeshBasicMaterial( { color: 0xffffff, transparent:true, opacity:0.3 } );\r\n            circle = new THREE.Mesh( circleGeom, circleMat );\r\n            circle1 = new THREE.Mesh( circleGeom, circleMat );\r\n            circle.rotation.x = THREE.Math.degToRad(180);\r\n            scene.add(circle1, circle);\r\n\r\n            var torusGeom1 = new THREE.TorusGeometry( 45, 10, 16, 100 );\r\n            var torusMat1 = new THREE.MeshLambertMaterial( { color: 0x2194ce, wireframe:true, wireframeLinewidth:0.05 } );\r\n            onlineGate = new THREE.Mesh( torusGeom1, torusMat1 );\r\n            onlineGate.position.z = 300;\r\n            scene.add( onlineGate );\r\n            var circleGeom1 = new THREE.CircleGeometry( 44, 32 );\r\n            var circleMat1 = new THREE.MeshBasicMaterial( { color: 0xffffff } );\r\n            circleOnline = new THREE.Mesh( circleGeom1, circleMat1 );\r\n            circleOnline.position.z = 300;\r\n            scene.add( circleOnline );\r\n            circleOnline1 = new THREE.Mesh( circleGeom1, circleMat1 );\r\n            circleOnline1.position.z = 300;\r\n            circleOnline1.rotation.x = THREE.Math.degToRad(180);\r\n            scene.add( circleOnline1 );\r\n\r\n            var torusGeom2 = new THREE.TorusGeometry( 50, 3, 16, 100 );\r\n            var torusMat2 = new THREE.MeshLambertMaterial( { color: 0xf7f700, emissive:0xffffff, emissiveIntensity:0.5 } );\r\n            irlGate = new THREE.Mesh( torusGeom2, torusMat2 );\r\n            irlGate.position.z = -300;\r\n            scene.add( irlGate );\r\n            var circleGeom2 = new THREE.CircleGeometry( 49, 32 );\r\n            circleIRL = new THREE.Mesh( circleGeom2, circleMat1 );\r\n            circleIRL.position.z = -300;\r\n            scene.add( circleIRL );\r\n            circleIRL1 = new THREE.Mesh( circleGeom2, circleMat1 );\r\n            circleIRL1.position.z = -300;\r\n            circleIRL1.rotation.x = THREE.Math.degToRad(180);\r\n            scene.add( circleIRL1 );\r\n\r\n            camera.position.z = 100;\r\n            // camera.position.set(1000,50,1500);\r\n\r\n            // Allows camera movement with mouse click\r\n            controls = new OrbitControls( camera, renderer.domElement );\r\n            controls.minDistance = 100;\r\n            controls.maxDistance = 500;\r\n\r\n            // scene.background = new THREE.Color( 0xffffff );\r\n        };\r\n        \r\n        var animate = function () {\r\n            requestAnimationFrame( animate );\r\n            controls.update();\r\n            console.log(isEmpty);\r\n            if(spheres.length <= 0){\r\n                // console.log('empty');\r\n                isEmpty = true;\r\n            }\r\n\r\n            if(isEmpty == false) {\r\n                for(var i=0; i<spheres.length; i++){\r\n                    scene.add(spheres[i].Sphere);\r\n                    if(spheres[i].Sphere.position.z >= -300) {\r\n                        spheres[i].Sphere.visible = true;\r\n                    }\r\n    \r\n                    if(spheres[i].Sphere.position.z > 0){\r\n                        spheres[i].Sphere.material = spheres[i].newVal;\r\n                    }\r\n    \r\n                    if(spheres[i].Sphere.position.z < 300){\r\n                        spheres[i].Sphere.position.z += 2.5;\r\n                    }\r\n                    else {\r\n                        scene.remove(spheres[i].Sphere);\r\n                        spheres.splice(i,1);\r\n                        // console.log(spheres);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                ref.on('value',getData,errData);\r\n            }\r\n\r\n            renderer.render( scene, camera );\r\n        };\r\n\r\n        var onWindowResize = function() {\r\n            camera.aspect = window.innerWidth/window.innerHeight;\r\n            camera.updateProjectionMatrix();\r\n            renderer.setSize( window.innerWidth, window.innerHeight );\r\n        }\r\n        \r\n        window.addEventListener('resize', onWindowResize, false);\r\n        init();\r\n        animate();\r\n    }\r\n\r\n    render() {\r\n      return (<div \r\n    //   style={{ width: \"800px\", height: \"800px\" }}\r\n      ref={ref => { this.mount = ref}}\r\n      />)\r\n    }\r\n}\r\n\r\nexport default ThreeScene;","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\n\r\n//import pages\r\nimport Home from './pages/home/Home';\r\nimport About from './pages/about/About';\r\nimport Form from './pages/form/Form';\r\nimport Compass from './pages/visuals/Compass';\r\nimport UserDefined from './pages/visuals/UserDefined';\r\nimport TheCrossing from './pages/visuals/TheCrossing';\r\n\r\nexport default function Routes(props) {\r\n\r\n    const URL = process.env.PUBLIC_URL\r\n\r\n    //Adding route-path to components\r\n    const routes = [\r\n        {\r\n            path: '/about',\r\n            component: About\r\n        },{\r\n            path: '/form',\r\n            component: Form\r\n        },{\r\n            path: '/compass',\r\n            component: Compass\r\n        },{\r\n            path: '/user-defined',\r\n            component: UserDefined\r\n        },{\r\n            path: '/the-crossing',\r\n            component: TheCrossing\r\n        }\r\n    ]\r\n    // console.log(URL);\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                {routes.map((route, index) => {\r\n                    return <Route exact key={index}\r\n                        path={route.path} component={route.component} />\r\n                })}\r\n                <Route component={Home} />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\n\nimport MyRoute from './route';\n// Import Firebase\nimport * as firebase from 'firebase';\n\nvar firebaseConfig = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASEURL,\n  projectId: process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_APPID,\n  measurementId: process.env.REACT_APP_MEASUREMENTID\n};\n\nfirebase.initializeApp(firebaseConfig);\n\n//Generating routes\n// const routing = (\n//   <Router>\n//     <Switch>\n//       <Route path= \"/about\" component={AboutPage} />\n//       <Route path= \"/form\" component={MyForm} />\n//       {/* <Route path= {url + \"/compass\"} component={CompassPage}/> */}\n//       <Route path=\"/\" component={HomePage} />\n//     </Switch>\n//   </Router>\n// )\n\nReactDOM.render(\n  <MyRoute></MyRoute>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}